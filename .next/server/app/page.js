(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9869:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>h}),s(908),s(1506),s(5866);var r=s(3191),i=s(8716),n=s(7922),a=s.n(n),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let h=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,908)),"C:\\Users\\Asus\\neaz-morshed\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\Users\\Asus\\neaz-morshed\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\Asus\\neaz-morshed\\app\\page.tsx"],c="/page",d={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:h}})},8510:()=>{},3765:(e,t,s)=>{Promise.resolve().then(s.bind(s,1353))},6998:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},1353:(e,t,s)=>{"use strict";let r,i,n;s.r(t),s.d(t,{default:()=>l0});var a,o,l,h,u,c,d,p,f,m,g,y,v,b=s(326),w=s(7626),x=s.n(w),_=s(7577);let k=(0,_.createContext)({});function S(e){let t=(0,_.useRef)(null);return null===t.current&&(t.current=e()),t.current}let j=(0,_.createContext)(null),T=(0,_.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class E extends _.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function A({children:e,isPresent:t}){let s=(0,_.useId)(),r=(0,_.useRef)(null),i=(0,_.useRef)({width:0,height:0,top:0,left:0}),{nonce:n}=(0,_.useContext)(T);return(0,_.useInsertionEffect)(()=>{let{width:e,height:a,top:o,left:l}=i.current;if(t||!r.current||!e||!a)return;r.current.dataset.motionPopId=s;let h=document.createElement("style");return n&&(h.nonce=n),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),(0,b.jsx)(E,{isPresent:t,childRef:r,sizeRef:i,children:_.cloneElement(e,{ref:r})})}let P=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:n,mode:a})=>{let o=S(R),l=(0,_.useId)(),h=(0,_.useCallback)(e=>{for(let t of(o.set(e,!0),o.values()))if(!t)return;r&&r()},[o,r]),u=(0,_.useMemo)(()=>({id:l,initial:t,isPresent:s,custom:i,onExitComplete:h,register:e=>(o.set(e,!1),()=>o.delete(e))}),n?[Math.random(),h]:[s,h]);return(0,_.useMemo)(()=>{o.forEach((e,t)=>o.set(t,!1))},[s]),_.useEffect(()=>{s||o.size||!r||r()},[s]),"popLayout"===a&&(e=(0,b.jsx)(A,{isPresent:s,children:e})),(0,b.jsx)(j.Provider,{value:u,children:e})};function R(){return new Map}function O(e=!0){let t=(0,_.useContext)(j);if(null===t)return[!0,null];let{isPresent:s,onExitComplete:r,register:i}=t,n=(0,_.useId)();(0,_.useEffect)(()=>{e&&i(n)},[e]);let a=(0,_.useCallback)(()=>e&&r&&r(n),[n,r,e]);return!s&&r?[!1,a]:[!0]}let C=e=>e.key||"";function N(e){let t=[];return _.Children.forEach(e,e=>{(0,_.isValidElement)(e)&&t.push(e)}),t}let I="undefined"!=typeof window,$=I?_.useLayoutEffect:_.useEffect,D=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:n="sync",propagate:a=!1})=>{let[o,l]=O(a),h=(0,_.useMemo)(()=>N(e),[e]),u=a&&!o?[]:h.map(C),c=(0,_.useRef)(!0),d=(0,_.useRef)(h),p=S(()=>new Map),[f,m]=(0,_.useState)(h),[g,y]=(0,_.useState)(h);$(()=>{c.current=!1,d.current=h;for(let e=0;e<g.length;e++){let t=C(g[e]);u.includes(t)?p.delete(t):!0!==p.get(t)&&p.set(t,!1)}},[g,u.length,u.join("-")]);let v=[];if(h!==f){let e=[...h];for(let t=0;t<g.length;t++){let s=g[t],r=C(s);u.includes(r)||(e.splice(t,0,s),v.push(s))}"wait"===n&&v.length&&(e=v),y(N(e)),m(h);return}let{forceRender:w}=(0,_.useContext)(k);return(0,b.jsx)(b.Fragment,{children:g.map(e=>{let f=C(e),m=(!a||!!o)&&(h===g||u.includes(f));return(0,b.jsx)(P,{isPresent:m,initial:(!c.current||!!s)&&void 0,custom:m?void 0:t,presenceAffectsLayout:i,mode:n,onExitComplete:m?void 0:()=>{if(!p.has(f))return;p.set(f,!0);let e=!0;p.forEach(t=>{t||(e=!1)}),e&&(null==w||w(),y(d.current),a&&(null==l||l()),r&&r())},children:e},f)})})};function U(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}let M=e=>Array.isArray(e);function L(e,t){if(!Array.isArray(t))return!1;let s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function V(e){return"string"==typeof e||Array.isArray(e)}function B(e){let t=[{},{}];return null==e||e.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function F(e,t,s,r){if("function"==typeof t){let[i,n]=B(r);t=t(void 0!==s?s:e.custom,i,n)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[i,n]=B(r);t=t(void 0!==s?s:e.custom,i,n)}return t}function q(e,t,s){let r=e.getProps();return F(r,t,void 0!==s?s:r.custom,e)}let z=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W=["initial",...z];function K(e){let t;return()=>(void 0===t&&(t=e()),t)}let H=K(()=>void 0!==window.ScrollTimeline);class G{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=t}attachTimeline(e,t){let s=this.animations.map(s=>H()&&s.attachTimeline?s.attachTimeline(e):"function"==typeof t?t(s):void 0);return()=>{s.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class J extends G{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Y(e,t){return e?e[t]||e.default||e:void 0}function X(e){let t=0,s=e.next(t);for(;!s.done&&t<2e4;)t+=50,s=e.next(t);return t>=2e4?1/0:t}function Z(e){return"function"==typeof e}function Q(e,t){e.timeline=t,e.onfinish=null}let ee=e=>Array.isArray(e)&&"number"==typeof e[0],et={linearEasing:void 0},es=function(e,t){let s=K(e);return()=>{var e;return null!==(e=et[t])&&void 0!==e?e:s()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),er=(e,t,s)=>{let r=t-e;return 0===r?1:(s-e)/r},ei=(e,t,s=10)=>{let r="",i=Math.max(Math.round(t/s),2);for(let t=0;t<i;t++)r+=e(er(0,i-1,t))+", ";return`linear(${r.substring(0,r.length-2)})`},en=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,ea={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:en([0,.65,.55,1]),circOut:en([.55,0,1,.45]),backIn:en([.31,.01,.66,-.59]),backOut:en([.33,1.53,.69,.99])},eo={x:!1,y:!1};function el(e,t){let s=function(e,t,s){if(e instanceof Element)return[e];if("string"==typeof e){let t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),r=new AbortController;return[s,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function eh(e){return t=>{"touch"===t.pointerType||eo.x||eo.y||e(t)}}let eu=(e,t)=>!!t&&(e===t||eu(e,t.parentElement)),ec=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,ed=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),ep=new WeakSet;function ef(e){return t=>{"Enter"===t.key&&e(t)}}function em(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let eg=(e,t)=>{let s=e.currentTarget;if(!s)return;let r=ef(()=>{if(ep.has(s))return;em(s,"down");let e=ef(()=>{em(s,"up")});s.addEventListener("keyup",e,t),s.addEventListener("blur",()=>em(s,"cancel"),t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function ey(e){return ec(e)&&!(eo.x||eo.y)}let ev=e=>1e3*e,eb=e=>e/1e3,ew=e=>e,ex=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],e_=new Set(ex),ek=new Set(["width","height","top","left","right","bottom",...ex]),eS=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),ej=e=>M(e)?e[e.length-1]||0:e,eT={skipAnimations:!1,useManualTiming:!1},eE=["read","resolveKeyframes","update","preRender","render","postRender"];function eA(e,t){let s=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},n=()=>s=!0,a=eE.reduce((e,t)=>(e[t]=function(e){let t=new Set,s=new Set,r=!1,i=!1,n=new WeakSet,a={delta:0,timestamp:0,isProcessing:!1};function o(t){n.has(t)&&(l.schedule(t),e()),t(a)}let l={schedule:(e,i=!1,a=!1)=>{let o=a&&r?t:s;return i&&n.add(e),o.has(e)||o.add(e),e},cancel:e=>{s.delete(e),n.delete(e)},process:e=>{if(a=e,r){i=!0;return}r=!0,[t,s]=[s,t],t.forEach(o),t.clear(),r=!1,i&&(i=!1,l.process(e))}};return l}(n),e),{}),{read:o,resolveKeyframes:l,update:h,preRender:u,render:c,postRender:d}=a,p=()=>{let n=eT.useManualTiming?i.timestamp:performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(n-i.timestamp,40),1),i.timestamp=n,i.isProcessing=!0,o.process(i),l.process(i),h.process(i),u.process(i),c.process(i),d.process(i),i.isProcessing=!1,s&&t&&(r=!1,e(p))},f=()=>{s=!0,r=!0,i.isProcessing||e(p)};return{schedule:eE.reduce((e,t)=>{let r=a[t];return e[t]=(e,t=!1,i=!1)=>(s||f(),r.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<eE.length;t++)a[eE[t]].cancel(e)},state:i,steps:a}}let{schedule:eP,cancel:eR,state:eO,steps:eC}=eA("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:ew,!0);function eN(){r=void 0}let eI={now:()=>(void 0===r&&eI.set(eO.isProcessing||eT.useManualTiming?eO.timestamp:performance.now()),r),set:e=>{r=e,queueMicrotask(eN)}};function e$(e,t){-1===e.indexOf(t)&&e.push(t)}function eD(e,t){let s=e.indexOf(t);s>-1&&e.splice(s,1)}class eU{constructor(){this.subscriptions=[]}add(e){return e$(this.subscriptions,e),()=>eD(this.subscriptions,e)}notify(e,t,s){let r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](e,t,s);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,s)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let eM=e=>!isNaN(parseFloat(e)),eL={current:void 0};class eV{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let s=eI.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=eI.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=eM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new eU);let s=this.events[e].add(t);return"change"===e?()=>{s(),eP.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return eL.current&&eL.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=eI.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let s=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),s?1e3/s*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eB(e,t){return new eV(e,t)}let eF=e=>!!(e&&e.getVelocity);function eq(e,t){let s=e.getValue("willChange");if(eF(s)&&s.add)return s.add(t)}let ez=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eW="data-"+ez("framerAppearId"),eK={current:!1},eH=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e;function eG(e,t,s,r){if(e===t&&s===r)return ew;let i=t=>(function(e,t,s,r,i){let n,a;let o=0;do(n=eH(a=t+(s-t)/2,r,i)-e)>0?s=a:t=a;while(Math.abs(n)>1e-7&&++o<12);return a})(t,0,1,e,s);return e=>0===e||1===e?e:eH(i(e),t,r)}let eJ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eY=e=>t=>1-e(1-t),eX=eG(.33,1.53,.69,.99),eZ=eY(eX),eQ=eJ(eZ),e0=e=>(e*=2)<1?.5*eZ(e):.5*(2-Math.pow(2,-10*(e-1))),e1=e=>1-Math.sin(Math.acos(e)),e2=eY(e1),e4=eJ(e1),e6=e=>/^0[^.\s]+$/u.test(e),e5=(e,t,s)=>s>t?t:s<e?e:s,e8={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},e9={...e8,transform:e=>e5(0,1,e)},e7={...e8,default:1},e3=e=>Math.round(1e5*e)/1e5,te=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,tt=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ts=(e,t)=>s=>!!("string"==typeof s&&tt.test(s)&&s.startsWith(e)||t&&null!=s&&Object.prototype.hasOwnProperty.call(s,t)),tr=(e,t,s)=>r=>{if("string"!=typeof r)return r;let[i,n,a,o]=r.match(te);return{[e]:parseFloat(i),[t]:parseFloat(n),[s]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},ti=e=>e5(0,255,e),tn={...e8,transform:e=>Math.round(ti(e))},ta={test:ts("rgb","red"),parse:tr("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+tn.transform(e)+", "+tn.transform(t)+", "+tn.transform(s)+", "+e3(e9.transform(r))+")"},to={test:ts("#"),parse:function(e){let t="",s="",r="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:ta.transform},tl=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),th=tl("deg"),tu=tl("%"),tc=tl("px"),td=tl("vh"),tp=tl("vw"),tf={...tu,parse:e=>tu.parse(e)/100,transform:e=>tu.transform(100*e)},tm={test:ts("hsl","hue"),parse:tr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+tu.transform(e3(t))+", "+tu.transform(e3(s))+", "+e3(e9.transform(r))+")"},tg={test:e=>ta.test(e)||to.test(e)||tm.test(e),parse:e=>ta.test(e)?ta.parse(e):tm.test(e)?tm.parse(e):to.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?ta.transform(e):tm.transform(e)},ty=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,tv="number",tb="color",tw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tx(e){let t=e.toString(),s=[],r={color:[],number:[],var:[]},i=[],n=0,a=t.replace(tw,e=>(tg.test(e)?(r.color.push(n),i.push(tb),s.push(tg.parse(e))):e.startsWith("var(")?(r.var.push(n),i.push("var"),s.push(e)):(r.number.push(n),i.push(tv),s.push(parseFloat(e))),++n,"${}")).split("${}");return{values:s,split:a,indexes:r,types:i}}function t_(e){return tx(e).values}function tk(e){let{split:t,types:s}=tx(e),r=t.length;return e=>{let i="";for(let n=0;n<r;n++)if(i+=t[n],void 0!==e[n]){let t=s[n];t===tv?i+=e3(e[n]):t===tb?i+=tg.transform(e[n]):i+=e[n]}return i}}let tS=e=>"number"==typeof e?0:e,tj={test:function(e){var t,s;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(te))||void 0===t?void 0:t.length)||0)+((null===(s=e.match(ty))||void 0===s?void 0:s.length)||0)>0},parse:t_,createTransformer:tk,getAnimatableNone:function(e){let t=t_(e);return tk(e)(t.map(tS))}},tT=new Set(["brightness","contrast","saturate","opacity"]);function tE(e){let[t,s]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=s.match(te)||[];if(!r)return e;let i=s.replace(r,""),n=tT.has(t)?1:0;return r!==s&&(n*=100),t+"("+n+i+")"}let tA=/\b([a-z-]*)\(.*?\)/gu,tP={...tj,getAnimatableNone:e=>{let t=e.match(tA);return t?t.map(tE).join(" "):e}},tR={...e8,transform:Math.round},tO={borderWidth:tc,borderTopWidth:tc,borderRightWidth:tc,borderBottomWidth:tc,borderLeftWidth:tc,borderRadius:tc,radius:tc,borderTopLeftRadius:tc,borderTopRightRadius:tc,borderBottomRightRadius:tc,borderBottomLeftRadius:tc,width:tc,maxWidth:tc,height:tc,maxHeight:tc,top:tc,right:tc,bottom:tc,left:tc,padding:tc,paddingTop:tc,paddingRight:tc,paddingBottom:tc,paddingLeft:tc,margin:tc,marginTop:tc,marginRight:tc,marginBottom:tc,marginLeft:tc,backgroundPositionX:tc,backgroundPositionY:tc,rotate:th,rotateX:th,rotateY:th,rotateZ:th,scale:e7,scaleX:e7,scaleY:e7,scaleZ:e7,skew:th,skewX:th,skewY:th,distance:tc,translateX:tc,translateY:tc,translateZ:tc,x:tc,y:tc,z:tc,perspective:tc,transformPerspective:tc,opacity:e9,originX:tf,originY:tf,originZ:tc,zIndex:tR,size:tc,fillOpacity:e9,strokeOpacity:e9,numOctaves:tR},tC={...tO,color:tg,backgroundColor:tg,outlineColor:tg,fill:tg,stroke:tg,borderColor:tg,borderTopColor:tg,borderRightColor:tg,borderBottomColor:tg,borderLeftColor:tg,filter:tP,WebkitFilter:tP},tN=e=>tC[e];function tI(e,t){let s=tN(e);return s!==tP&&(s=tj),s.getAnimatableNone?s.getAnimatableNone(t):void 0}let t$=new Set(["auto","none","0"]),tD=e=>e===e8||e===tc,tU=(e,t)=>parseFloat(e.split(", ")[t]),tM=(e,t)=>(s,{transform:r})=>{if("none"===r||!r)return 0;let i=r.match(/^matrix3d\((.+)\)$/u);if(i)return tU(i[1],t);{let t=r.match(/^matrix\((.+)\)$/u);return t?tU(t[1],e):0}},tL=new Set(["x","y","z"]),tV=ex.filter(e=>!tL.has(e)),tB={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:tM(4,13),y:tM(5,14)};tB.translateX=tB.x,tB.translateY=tB.y;let tF=new Set,tq=!1,tz=!1;function tW(){if(tz){let e=Array.from(tF).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),s=new Map;t.forEach(e=>{let t=function(e){let t=[];return tV.forEach(s=>{let r=e.getValue(s);void 0!==r&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}(e);t.length&&(s.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=s.get(e);t&&t.forEach(([t,s])=>{var r;null===(r=e.getValue(t))||void 0===r||r.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}tz=!1,tq=!1,tF.forEach(e=>e.complete()),tF.clear()}function tK(){tF.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tz=!0)})}class tH{constructor(e,t,s,r,i,n=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=r,this.element=i,this.isAsync=n}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tF.add(this),tq||(tq=!0,eP.read(tK),eP.resolveKeyframes(tW))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:s,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i]){if(0===i){let i=null==r?void 0:r.get(),n=e[e.length-1];if(void 0!==i)e[0]=i;else if(s&&t){let r=s.readValue(t,n);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=n),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tF.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tF.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let tG=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),tJ=e=>t=>"string"==typeof t&&t.startsWith(e),tY=tJ("--"),tX=tJ("var(--"),tZ=e=>!!tX(e)&&tQ.test(e.split("/*")[0].trim()),tQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,t0=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,t1=e=>t=>t.test(e),t2=[e8,tc,tu,th,tp,td,{test:e=>"auto"===e,parse:e=>e}],t4=e=>t2.find(t1(e));class t6 extends tH{constructor(e,t,s,r,i){super(e,t,s,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let r=e[s];if("string"==typeof r&&tZ(r=r.trim())){let i=function e(t,s,r=1){ew(r<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[i,n]=function(e){let t=t0.exec(e);if(!t)return[,];let[,s,r,i]=t;return[`--${null!=s?s:r}`,i]}(t);if(!i)return;let a=window.getComputedStyle(s).getPropertyValue(i);if(a){let e=a.trim();return tG(e)?parseFloat(e):e}return tZ(n)?e(n,s,r+1):n}(r,t.current);void 0!==i&&(e[s]=i),s===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!ek.has(s)||2!==e.length)return;let[r,i]=e,n=t4(r),a=t4(i);if(n!==a){if(tD(n)&&tD(a))for(let t=0;t<e.length;t++){let s=e[t];"string"==typeof s&&(e[t]=parseFloat(s))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,s=[];for(let t=0;t<e.length;t++){var r;("number"==typeof(r=e[t])?0===r:null===r||"none"===r||"0"===r||e6(r))&&s.push(t)}s.length&&function(e,t,s){let r,i=0;for(;i<e.length&&!r;){let t=e[i];"string"==typeof t&&!t$.has(t)&&tx(t).values.length&&(r=e[i]),i++}if(r&&s)for(let i of t)e[i]=tI(s,r)}(e,s,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;"height"===s&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tB[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];void 0!==r&&e.getValue(s,r).jump(r,!1)}measureEndState(){var e;let{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;let i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);let n=r.length-1,a=r[n];r[n]=tB[s](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,s])=>{t.getValue(e).set(s)}),this.resolveNoneKeyframes()}}let t5=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(tj.test(e)||"0"===e)&&!e.startsWith("url(")),t8=e=>null!==e;function t9(e,{repeat:t,repeatType:s="loop"},r){let i=e.filter(t8),n=t&&"loop"!==s&&t%2==1?0:i.length-1;return n&&void 0!==r?r:i[n]}class t7{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:n="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=eI.now(),this.options={autoplay:e,delay:t,type:s,repeat:r,repeatDelay:i,repeatType:n,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(tK(),tW()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=eI.now(),this.hasAttemptedResolve=!0;let{name:s,type:r,velocity:i,delay:n,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!function(e,t,s,r){let i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;let n=e[e.length-1],a=t5(i,t),o=t5(n,t);return ew(a===o,`You are trying to animate ${t} from "${i}" to "${n}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${n} via the \`style\` property.`),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}(e)||("spring"===s||Z(s))&&r)}(e,s,r,i)){if(eK.current||!n){o&&o(t9(e,this.options,t)),a&&a(),this.resolveFinishedPromise();return}this.options.duration=0}let h=this.initPlayback(e,t);!1!==h&&(this._resolved={keyframes:e,finalKeyframe:t,...h},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}let t3=(e,t,s)=>e+(t-e)*s;function se(e,t,s){return(s<0&&(s+=1),s>1&&(s-=1),s<1/6)?e+(t-e)*6*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function st(e,t){return s=>s>0?t:e}let ss=(e,t,s)=>{let r=e*e,i=s*(t*t-r)+r;return i<0?0:Math.sqrt(i)},sr=[to,ta,tm],si=e=>sr.find(t=>t.test(e));function sn(e){let t=si(e);if(ew(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let s=t.parse(e);return t===tm&&(s=function({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,s/=100;let i=0,n=0,a=0;if(t/=100){let r=s<.5?s*(1+t):s+t-s*t,o=2*s-r;i=se(o,r,e+1/3),n=se(o,r,e),a=se(o,r,e-1/3)}else i=n=a=s;return{red:Math.round(255*i),green:Math.round(255*n),blue:Math.round(255*a),alpha:r}}(s)),s}let sa=(e,t)=>{let s=sn(e),r=sn(t);if(!s||!r)return st(e,t);let i={...s};return e=>(i.red=ss(s.red,r.red,e),i.green=ss(s.green,r.green,e),i.blue=ss(s.blue,r.blue,e),i.alpha=t3(s.alpha,r.alpha,e),ta.transform(i))},so=(e,t)=>s=>t(e(s)),sl=(...e)=>e.reduce(so),sh=new Set(["none","hidden"]);function su(e,t){return s=>t3(e,t,s)}function sc(e){return"number"==typeof e?su:"string"==typeof e?tZ(e)?st:tg.test(e)?sa:sf:Array.isArray(e)?sd:"object"==typeof e?tg.test(e)?sa:sp:st}function sd(e,t){let s=[...e],r=s.length,i=e.map((e,s)=>sc(e)(e,t[s]));return e=>{for(let t=0;t<r;t++)s[t]=i[t](e);return s}}function sp(e,t){let s={...e,...t},r={};for(let i in s)void 0!==e[i]&&void 0!==t[i]&&(r[i]=sc(e[i])(e[i],t[i]));return e=>{for(let t in r)s[t]=r[t](e);return s}}let sf=(e,t)=>{let s=tj.createTransformer(t),r=tx(e),i=tx(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sh.has(e)&&!i.values.length||sh.has(t)&&!r.values.length?function(e,t){return sh.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}(e,t):sl(sd(function(e,t){var s;let r=[],i={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){let a=t.types[n],o=e.indexes[a][i[a]],l=null!==(s=e.values[o])&&void 0!==s?s:0;r[n]=l,i[a]++}return r}(r,i),i.values),s):(ew(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),st(e,t))};function sm(e,t,s){return"number"==typeof e&&"number"==typeof t&&"number"==typeof s?t3(e,t,s):sc(e)(e,t)}function sg(e,t,s){var r,i;let n=Math.max(t-5,0);return r=s-e(n),(i=t-n)?1e3/i*r:0}let sy={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function sv(e,t){return e*Math.sqrt(1-t*t)}let sb=["duration","bounce"],sw=["stiffness","damping","mass"];function sx(e,t){return t.some(t=>void 0!==e[t])}function s_(e=sy.visualDuration,t=sy.bounce){let s;let r="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:i,restDelta:n}=r,a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:h,damping:u,mass:c,duration:d,velocity:p,isResolvedFromDuration:f}=function(e){let t={velocity:sy.velocity,stiffness:sy.stiffness,damping:sy.damping,mass:sy.mass,isResolvedFromDuration:!1,...e};if(!sx(e,sw)&&sx(e,sb)){if(e.visualDuration){let s=2*Math.PI/(1.2*e.visualDuration),r=s*s,i=2*e5(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:sy.mass,stiffness:r,damping:i}}else{let s=function({duration:e=sy.duration,bounce:t=sy.bounce,velocity:s=sy.velocity,mass:r=sy.mass}){let i,n;ew(e<=ev(sy.maxDuration),"Spring duration must be 10 seconds or less");let a=1-t;a=e5(sy.minDamping,sy.maxDamping,a),e=e5(sy.minDuration,sy.maxDuration,eb(e)),a<1?(i=t=>{let r=t*a,i=r*e;return .001-(r-s)/sv(t,a)*Math.exp(-i)},n=t=>{let r=t*a*e,n=Math.pow(a,2)*Math.pow(t,2)*e,o=sv(Math.pow(t,2),a);return(r*s+s-n)*Math.exp(-r)*(-i(t)+.001>0?-1:1)/o}):(i=t=>-.001+Math.exp(-t*e)*((t-s)*e+1),n=t=>e*e*(s-t)*Math.exp(-t*e));let o=function(e,t,s){let r=s;for(let s=1;s<12;s++)r-=e(r)/t(r);return r}(i,n,5/e);if(e=ev(e),isNaN(o))return{stiffness:sy.stiffness,damping:sy.damping,duration:e};{let t=Math.pow(o,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);(t={...t,...s,mass:sy.mass}).isResolvedFromDuration=!0}}return t}({...r,velocity:-eb(r.velocity||0)}),m=p||0,g=u/(2*Math.sqrt(h*c)),y=o-a,v=eb(Math.sqrt(h/c)),b=5>Math.abs(y);if(i||(i=b?sy.restSpeed.granular:sy.restSpeed.default),n||(n=b?sy.restDelta.granular:sy.restDelta.default),g<1){let e=sv(v,g);s=t=>o-Math.exp(-g*v*t)*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===g)s=e=>o-Math.exp(-v*e)*(y+(m+v*y)*e);else{let e=v*Math.sqrt(g*g-1);s=t=>{let s=Math.exp(-g*v*t),r=Math.min(e*t,300);return o-s*((m+g*v*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}let w={calculatedDuration:f&&d||null,next:e=>{let t=s(e);if(f)l.done=e>=d;else{let r=0;g<1&&(r=0===e?ev(m):sg(s,e,t));let a=Math.abs(r)<=i,h=Math.abs(o-t)<=n;l.done=a&&h}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(X(w),2e4),t=ei(t=>w.next(e*t).value,e,30);return e+"ms "+t}};return w}function sk({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:n=500,modifyTarget:a,min:o,max:l,restDelta:h=.5,restSpeed:u}){let c,d;let p=e[0],f={done:!1,value:p},m=e=>void 0!==o&&e<o||void 0!==l&&e>l,g=e=>void 0===o?l:void 0===l?o:Math.abs(o-e)<Math.abs(l-e)?o:l,y=s*t,v=p+y,b=void 0===a?v:a(v);b!==v&&(y=b-p);let w=e=>-y*Math.exp(-e/r),x=e=>b+w(e),_=e=>{let t=w(e),s=x(e);f.done=Math.abs(t)<=h,f.value=f.done?b:s},k=e=>{m(f.value)&&(c=e,d=s_({keyframes:[f.value,g(f.value)],velocity:sg(x,e,f.value),damping:i,stiffness:n,restDelta:h,restSpeed:u}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==c||(t=!0,_(e),k(e)),void 0!==c&&e>=c)?d.next(e-c):(t||_(e),f)}}}let sS=eG(.42,0,1,1),sj=eG(0,0,.58,1),sT=eG(.42,0,.58,1),sE=e=>Array.isArray(e)&&"number"!=typeof e[0],sA={linear:ew,easeIn:sS,easeInOut:sT,easeOut:sj,circIn:e1,circInOut:e4,circOut:e2,backIn:eZ,backInOut:eQ,backOut:eX,anticipate:e0},sP=e=>{if(ee(e)){ew(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,s,r,i]=e;return eG(t,s,r,i)}return"string"==typeof e?(ew(void 0!==sA[e],`Invalid easing type '${e}'`),sA[e]):e};function sR({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){let i=sE(r)?r.map(sP):sP(r),n={done:!1,value:t[0]},a=function(e,t,{clamp:s=!0,ease:r,mixer:i}={}){let n=e.length;if(ew(n===t.length,"Both input and output ranges must be the same length"),1===n)return()=>t[0];if(2===n&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[n-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,s){let r=[],i=s||sm,n=e.length-1;for(let s=0;s<n;s++){let n=i(e[s],e[s+1]);t&&(n=sl(Array.isArray(t)?t[s]||ew:t,n)),r.push(n)}return r}(t,r,i),l=o.length,h=s=>{if(a&&s<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(s<e[r+1]);r++);let i=er(e[r],e[r+1],s);return o[r](i)};return s?t=>h(e5(e[0],e[n-1],t)):h}((s&&s.length===t.length?s:function(e){let t=[0];return function(e,t){let s=e[e.length-1];for(let r=1;r<=t;r++){let i=er(0,t,r);e.push(t3(s,1,i))}}(t,e.length-1),t}(t)).map(t=>t*e),t,{ease:Array.isArray(i)?i:t.map(()=>i||sT).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(n.value=a(t),n.done=t>=e,n)}}let sO=e=>{let t=({timestamp:t})=>e(t);return{start:()=>eP.update(t,!0),stop:()=>eR(t),now:()=>eO.isProcessing?eO.timestamp:eI.now()}},sC={decay:sk,inertia:sk,tween:sR,keyframes:sR,spring:s_},sN=e=>e/100;class sI extends t7{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:e}=this.options;e&&e()};let{name:t,motionValue:s,element:r,keyframes:i}=this.options,n=(null==r?void 0:r.KeyframeResolver)||tH;this.resolver=new n(i,(e,t)=>this.onKeyframesResolved(e,t),t,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){let t,s;let{type:r="keyframes",repeat:i=0,repeatDelay:n=0,repeatType:a,velocity:o=0}=this.options,l=Z(r)?r:sC[r]||sR;l!==sR&&"number"!=typeof e[0]&&(t=sl(sN,sm(e[0],e[1])),e=[0,100]);let h=l({...this.options,keyframes:e});"mirror"===a&&(s=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),null===h.calculatedDuration&&(h.calculatedDuration=X(h));let{calculatedDuration:u}=h,c=u+n;return{generator:h,mirroredGenerator:s,mapPercentToKeyframes:t,calculatedDuration:u,resolvedDuration:c,totalDuration:c*(i+1)-n}}onPostResolved(){let{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){let{resolved:s}=this;if(!s){let{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}let{finalKeyframe:r,generator:i,mirroredGenerator:n,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:h,resolvedDuration:u}=s;if(null===this.startTime)return i.next(0);let{delay:c,repeat:d,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;let g=this.currentTime-c*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>h;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=h);let v=this.currentTime,b=i;if(d){let e=Math.min(this.currentTime,h)/u,t=Math.floor(e),s=e%1;!s&&e>=1&&(s=1),1===s&&t--,(t=Math.min(t,d+1))%2&&("reverse"===p?(s=1-s,f&&(s-=f/u)):"mirror"===p&&(b=n)),v=e5(0,1,s)*u}let w=y?{done:!1,value:o[0]}:b.next(v);a&&(w.value=a(w.value));let{done:x}=w;y||null===l||(x=this.speed>=0?this.currentTime>=h:this.currentTime<=0);let _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return _&&void 0!==r&&(w.value=t9(o,this.options,r)),m&&m(w.value),_&&this.finish(),w}get duration(){let{resolved:e}=this;return e?eb(e.calculatedDuration):0}get time(){return eb(this.currentTime)}set time(e){e=ev(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=eb(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:e=sO,onPlay:t,startTime:s}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();let r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=s?s:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}let s$=new Set(["opacity","clipPath","filter","transform"]),sD=K(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sU={anticipate:e0,backInOut:eQ,circInOut:e4};class sM extends t7{constructor(e){super(e);let{name:t,motionValue:s,element:r,keyframes:i}=this.options;this.resolver=new t6(i,(e,t)=>this.onKeyframesResolved(e,t),t,s,r),this.resolver.scheduleResolve()}initPlayback(e,t){var s;let{duration:r=300,times:i,ease:n,type:a,motionValue:o,name:l,startTime:h}=this.options;if(!o.owner||!o.owner.current)return!1;if("string"==typeof n&&es()&&n in sU&&(n=sU[n]),Z((s=this.options).type)||"spring"===s.type||!function e(t){return!!("function"==typeof t&&es()||!t||"string"==typeof t&&(t in ea||es())||ee(t)||Array.isArray(t)&&t.every(e))}(s.ease)){let{onComplete:t,onUpdate:s,motionValue:o,element:l,...h}=this.options,u=function(e,t){let s=new sI({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),r={done:!1,value:e[0]},i=[],n=0;for(;!r.done&&n<2e4;)i.push((r=s.sample(n)).value),n+=10;return{times:void 0,keyframes:i,duration:n-10,ease:"linear"}}(e,h);1===(e=u.keyframes).length&&(e[1]=e[0]),r=u.duration,i=u.times,n=u.ease,a="keyframes"}let u=function(e,t,s,{delay:r=0,duration:i=300,repeat:n=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){let h={[t]:s};l&&(h.offset=l);let u=function e(t,s){if(t)return"function"==typeof t&&es()?ei(t,s):ee(t)?en(t):Array.isArray(t)?t.map(t=>e(t,s)||ea.easeOut):ea[t]}(o,i);return Array.isArray(u)&&(h.easing=u),e.animate(h,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:n+1,direction:"reverse"===a?"alternate":"normal"})}(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:n});return u.startTime=null!=h?h:this.calcStartTime(),this.pendingTimeline?(Q(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{let{onComplete:s}=this.options;o.set(t9(e,this.options,t)),s&&s(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:a,ease:n,keyframes:e}}get duration(){let{resolved:e}=this;if(!e)return 0;let{duration:t}=e;return eb(t)}get time(){let{resolved:e}=this;if(!e)return 0;let{animation:t}=e;return eb(t.currentTime||0)}set time(e){let{resolved:t}=this;if(!t)return;let{animation:s}=t;s.currentTime=ev(e)}get speed(){let{resolved:e}=this;if(!e)return 1;let{animation:t}=e;return t.playbackRate}set speed(e){let{resolved:t}=this;if(!t)return;let{animation:s}=t;s.playbackRate=e}get state(){let{resolved:e}=this;if(!e)return"idle";let{animation:t}=e;return t.playState}get startTime(){let{resolved:e}=this;if(!e)return null;let{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){let{resolved:t}=this;if(!t)return ew;let{animation:s}=t;Q(s,e)}else this.pendingTimeline=e;return ew}play(){if(this.isStopped)return;let{resolved:e}=this;if(!e)return;let{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){let{resolved:e}=this;if(!e)return;let{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:e}=this;if(!e)return;let{animation:t,keyframes:s,duration:r,type:i,ease:n,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){let{motionValue:e,onUpdate:t,onComplete:o,element:l,...h}=this.options,u=new sI({...h,keyframes:s,duration:r,type:i,ease:n,times:a,isGenerator:!0}),c=ev(this.time);e.setWithVelocity(u.sample(c-10).value,u.sample(c).value,10)}let{onStop:o}=this.options;o&&o(),this.cancel()}complete(){let{resolved:e}=this;e&&e.animation.finish()}cancel(){let{resolved:e}=this;e&&e.animation.cancel()}static supports(e){let{motionValue:t,name:s,repeatDelay:r,repeatType:i,damping:n,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return sD()&&s&&s$.has(s)&&!o&&!l&&!r&&"mirror"!==i&&0!==n&&"inertia"!==a}}let sL={type:"spring",stiffness:500,damping:25,restSpeed:10},sV=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),sB={type:"keyframes",duration:.8},sF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sq=(e,{keyframes:t})=>t.length>2?sB:e_.has(e)?e.startsWith("scale")?sV(t[1]):sL:sF,sz=(e,t,s,r={},i,n)=>a=>{let o=Y(r,e)||{},l=o.delay||r.delay||0,{elapsed:h=0}=r;h-=ev(l);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-h,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:n?void 0:i};!function({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:n,repeatType:a,repeatDelay:o,from:l,elapsed:h,...u}){return!!Object.keys(u).length}(o)&&(u={...u,...sq(e,u)}),u.duration&&(u.duration=ev(u.duration)),u.repeatDelay&&(u.repeatDelay=ev(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let c=!1;if(!1!==u.type&&(0!==u.duration||u.repeatDelay)||(u.duration=0,0!==u.delay||(c=!0)),(eK.current||eT.skipAnimations)&&(c=!0,u.duration=0,u.delay=0),c&&!n&&void 0!==t.get()){let e=t9(u.keyframes,o);if(void 0!==e)return eP.update(()=>{u.onUpdate(e),u.onComplete()}),new J([])}return!n&&sM.supports(u)?new sM(u):new sI(u)};function sW(e,t,{delay:s=0,transitionOverride:r,type:i}={}){var n;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);let h=[],u=i&&e.animationState&&e.animationState.getState()[i];for(let t in l){let r=e.getValue(t,null!==(n=e.latestValues[t])&&void 0!==n?n:null),i=l[t];if(void 0===i||u&&function({protectedKeys:e,needsAnimating:t},s){let r=e.hasOwnProperty(s)&&!0!==t[s];return t[s]=!1,r}(u,t))continue;let o={delay:s,...Y(a||{},t)},c=!1;if(window.MotionHandoffAnimation){let s=e.props[eW];if(s){let e=window.MotionHandoffAnimation(s,t,eP);null!==e&&(o.startTime=e,c=!0)}}eq(e,t),r.start(sz(t,r,i,e.shouldReduceMotion&&ek.has(t)?{type:!1}:o,e,c));let d=r.animation;d&&h.push(d)}return o&&Promise.all(h).then(()=>{eP.update(()=>{o&&function(e,t){let{transitionEnd:s={},transition:r={},...i}=q(e,t)||{};for(let t in i={...i,...s}){let s=ej(i[t]);e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,eB(s))}}(e,o)})}),h}function sK(e,t,s={}){var r;let i=q(e,t,"exit"===s.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0),{transition:n=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(n=s.transitionOverride);let a=i?()=>Promise.all(sW(e,i,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=n;return function(e,t,s=0,r=0,i=1,n){let a=[],o=(e.variantChildren.size-1)*r,l=1===i?(e=0)=>e*r:(e=0)=>o-e*r;return Array.from(e.variantChildren).sort(sH).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(sK(e,t,{...n,delay:s+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,i+r,a,o,s)}:()=>Promise.resolve(),{when:l}=n;if(!l)return Promise.all([a(),o(s.delay)]);{let[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}}function sH(e,t){return e.sortNodePosition(t)}let sG=W.length,sJ=[...z].reverse(),sY=z.length;function sX(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sZ(){return{animate:sX(!0),whileInView:sX(),whileHover:sX(),whileTap:sX(),whileDrag:sX(),whileFocus:sX(),exit:sX()}}class sQ{constructor(e){this.isMounted=!1,this.node=e}update(){}}class s0 extends sQ{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:s})=>(function(e,t,s={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t))r=Promise.all(t.map(t=>sK(e,t,s)));else if("string"==typeof t)r=sK(e,t,s);else{let i="function"==typeof t?q(e,t,s.custom):t;r=Promise.all(sW(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",t)})})(e,t,s))),s=sZ(),r=!0,i=t=>(s,r)=>{var i;let n=q(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(n){let{transition:e,transitionEnd:t,...r}=n;s={...s,...r,...t}}return s};function n(n){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let s=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(s.initial=t.props.initial),s}let s={};for(let e=0;e<sG;e++){let r=W[e],i=t.props[r];(V(i)||!1===i)&&(s[r]=i)}return s}(e.parent)||{},l=[],h=new Set,u={},c=1/0;for(let t=0;t<sY;t++){var d;let p=sJ[t],f=s[p],m=void 0!==a[p]?a[p]:o[p],g=V(m),y=p===n?f.isActive:null;!1===y&&(c=t);let v=m===o[p]&&m!==a[p]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===y||!m&&!f.prevProp||U(m)||"boolean"==typeof m)continue;let b=(d=f.prevProp,"string"==typeof m?m!==d:!!Array.isArray(m)&&!L(m,d)),w=b||p===n&&f.isActive&&!v&&g||t>c&&g,x=!1,_=Array.isArray(m)?m:[m],k=_.reduce(i(p),{});!1===y&&(k={});let{prevResolvedValues:S={}}=f,j={...S,...k},T=t=>{w=!0,h.has(t)&&(x=!0,h.delete(t)),f.needsAnimating[t]=!0;let s=e.getValue(t);s&&(s.liveStyle=!1)};for(let e in j){let t=k[e],s=S[e];if(!u.hasOwnProperty(e))(M(t)&&M(s)?L(t,s):t===s)?void 0!==t&&h.has(e)?T(e):f.protectedKeys[e]=!0:null!=t?T(e):h.add(e)}f.prevProp=m,f.prevResolvedValues=k,f.isActive&&(u={...u,...k}),r&&e.blockInitialAnimation&&(w=!1);let E=!(v&&b)||x;w&&E&&l.push(..._.map(e=>({animation:e,options:{type:p}})))}if(h.size){let t={};h.forEach(s=>{let r=e.getBaseTarget(s),i=e.getValue(s);i&&(i.liveStyle=!0),t[s]=null!=r?r:null}),l.push({animation:t})}let p=!!l.length;return r&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(l):Promise.resolve()}return{animateChanges:n,setActive:function(t,r){var i;if(s[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var s;return null===(s=e.animationState)||void 0===s?void 0:s.setActive(t,r)}),s[t].isActive=r;let a=n(t);for(let e in s)s[e].protectedKeys={};return a},setAnimateFunction:function(s){t=s(e)},getState:()=>s,reset:()=>{s=sZ(),r=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();U(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}let s1=0;class s2 extends sQ{constructor(){super(...arguments),this.id=s1++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;let r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){let{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}function s4(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function s6(e){return{point:{x:e.pageX,y:e.pageY}}}let s5=e=>t=>ec(t)&&e(t,s6(t));function s8(e,t,s,r){return s4(e,t,s5(s),r)}let s9=(e,t)=>Math.abs(e-t);class s7{constructor(e,t,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=rt(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,s=function(e,t){return Math.sqrt(s9(e.x,t.x)**2+s9(e.y,t.y)**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!s)return;let{point:r}=e,{timestamp:i}=eO;this.history.push({...r,timestamp:i});let{onStart:n,onMove:a}=this.handlers;t||(n&&n(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=s3(t,this.transformPagePoint),eP.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:s,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=rt("pointercancel"===e.type?this.lastMoveEventInfo:s3(t,this.transformPagePoint),this.history);this.startEvent&&s&&s(e,n),r&&r(e,n)},!ec(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=s,this.contextWindow=r||window;let n=s3(s6(e),this.transformPagePoint),{point:a}=n,{timestamp:o}=eO;this.history=[{...a,timestamp:o}];let{onSessionStart:l}=t;l&&l(e,rt(n,this.history)),this.removeListeners=sl(s8(this.contextWindow,"pointermove",this.handlePointerMove),s8(this.contextWindow,"pointerup",this.handlePointerUp),s8(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eR(this.updatePoint)}}function s3(e,t){return t?{point:t(e.point)}:e}function re(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rt({point:e},t){return{point:e,delta:re(e,rs(t)),offset:re(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null,i=rs(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>ev(.1)));)s--;if(!r)return{x:0,y:0};let n=eb(i.timestamp-r.timestamp);if(0===n)return{x:0,y:0};let a={x:(i.x-r.x)/n,y:(i.y-r.y)/n};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,0)}}function rs(e){return e[e.length-1]}function rr(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ri(e){return e.max-e.min}function rn(e,t,s,r=.5){e.origin=r,e.originPoint=t3(t.min,t.max,e.origin),e.scale=ri(s)/ri(t),e.translate=t3(s.min,s.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function ra(e,t,s,r){rn(e.x,t.x,s.x,r?r.originX:void 0),rn(e.y,t.y,s.y,r?r.originY:void 0)}function ro(e,t,s){e.min=s.min+t.min,e.max=e.min+ri(t)}function rl(e,t,s){e.min=t.min-s.min,e.max=e.min+ri(t)}function rh(e,t,s){rl(e.x,t.x,s.x),rl(e.y,t.y,s.y)}function ru(e,t,s){return{min:void 0!==t?e.min+t:void 0,max:void 0!==s?e.max+s-(e.max-e.min):void 0}}function rc(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function rd(e,t,s){return{min:rp(e,t),max:rp(e,s)}}function rp(e,t){return"number"==typeof e?e:e[t]||0}let rf=()=>({translate:0,scale:1,origin:0,originPoint:0}),rm=()=>({x:rf(),y:rf()}),rg=()=>({min:0,max:0}),ry=()=>({x:rg(),y:rg()});function rv(e){return[e("x"),e("y")]}function rb({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function rw(e){return void 0===e||1===e}function rx({scale:e,scaleX:t,scaleY:s}){return!rw(e)||!rw(t)||!rw(s)}function r_(e){return rx(e)||rk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rk(e){var t,s;return(t=e.x)&&"0%"!==t||(s=e.y)&&"0%"!==s}function rS(e,t,s,r,i){return void 0!==i&&(e=r+i*(e-r)),r+s*(e-r)+t}function rj(e,t=0,s=1,r,i){e.min=rS(e.min,t,s,r,i),e.max=rS(e.max,t,s,r,i)}function rT(e,{x:t,y:s}){rj(e.x,t.translate,t.scale,t.originPoint),rj(e.y,s.translate,s.scale,s.originPoint)}function rE(e,t){e.min=e.min+t,e.max=e.max+t}function rA(e,t,s,r,i=.5){let n=t3(e.min,e.max,i);rj(e,t,s,n,r)}function rP(e,t){rA(e.x,t.x,t.scaleX,t.scale,t.originX),rA(e.y,t.y,t.scaleY,t.scale,t.originY)}function rR(e,t){return rb(function(e,t){if(!t)return e;let s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}let rO=({current:e})=>e?e.ownerDocument.defaultView:null,rC=new WeakMap;class rN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ry(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:s}=this.visualElement;if(s&&!1===s.isPresent)return;let{dragSnapToOrigin:r}=this.getProps();this.panSession=new s7(e,{onSessionStart:e=>{let{dragSnapToOrigin:s}=this.getProps();s?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(s6(e).point)},onStart:(e,t)=>{let{drag:s,dragPropagation:r,onDragStart:i}=this.getProps();if(s&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===s||"y"===s?eo[s]?null:(eo[s]=!0,()=>{eo[s]=!1}):eo.x||eo.y?null:(eo.x=eo.y=!0,()=>{eo.x=eo.y=!1}),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rv(e=>{let t=this.getAxisMotionValue(e).get()||0;if(tu.test(t)){let{projection:s}=this.visualElement;if(s&&s.layout){let r=s.layout.layoutBox[e];if(r){let e=ri(r);t=parseFloat(t)/100*e}}}this.originPoint[e]=t}),i&&eP.postRender(()=>i(e,t)),eq(this.visualElement,"transform");let{animationState:n}=this.visualElement;n&&n.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:s,dragDirectionLock:r,onDirectionLock:i,onDrag:n}=this.getProps();if(!s&&!this.openDragLock)return;let{offset:a}=t;if(r&&null===this.currentDirection){this.currentDirection=function(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}(a),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),n&&n(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>rv(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:rO(this.visualElement)})}stop(e,t){let s=this.isDragging;if(this.cancel(),!s)return;let{velocity:r}=t;this.startAnimation(r);let{onDragEnd:i}=this.getProps();i&&eP.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){let{drag:r}=this.getProps();if(!s||!rI(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),n=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(n=function(e,{min:t,max:s},r){return void 0!==t&&e<t?e=r?t3(t,e,r.min):Math.max(e,t):void 0!==s&&e>s&&(e=r?t3(s,e,r.max):Math.min(e,s)),e}(n,this.constraints[e],this.elastic[e])),i.set(n)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&rr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=function(e,{top:t,left:s,bottom:r,right:i}){return{x:ru(e.x,s,i),y:ru(e.y,t,r)}}(r.layoutBox,t):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:rd(e,"left","right"),y:rd(e,"top","bottom")}}(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&rv(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let s={};return void 0!==t.min&&(s.min=t.min-e.min),void 0!==t.max&&(s.max=t.max-e.min),s}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!rr(t))return!1;let r=t.current;ew(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let n=function(e,t,s){let r=rR(e,s),{scroll:i}=t;return i&&(rE(r.x,i.offset.x),rE(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),a={x:rc((e=i.layout.layoutBox).x,n.x),y:rc(e.y,n.y)};if(s){let e=s(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=rb(e))}return a}startAnimation(e){let{drag:t,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:n,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(rv(a=>{if(!rI(a,t,this.currentDirection))return;let l=o&&o[a]||{};n&&(l={min:0,max:0});let h={type:"inertia",velocity:s?e[a]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,h)})).then(a)}startAxisValueAnimation(e,t){let s=this.getAxisMotionValue(e);return eq(this.visualElement,e),s.start(sz(e,s,0,t,this.visualElement,!1))}stopAnimation(){rv(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rv(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps();return s[t]||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){rv(t=>{let{drag:s}=this.getProps();if(!rI(t,s,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:s,max:n}=r.layout.layoutBox[t];i.set(e[t]-t3(s,n,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!rr(t)||!s||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};rv(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let s=t.get();r[e]=function(e,t){let s=.5,r=ri(e),i=ri(t);return i>r?s=er(t.min,t.max-r,e.min):r>i&&(s=er(e.min,e.max-i,t.min)),e5(0,1,s)}({min:s,max:s},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),rv(t=>{if(!rI(t,e,null))return;let s=this.getAxisMotionValue(t),{min:i,max:n}=this.constraints[t];s.set(t3(i,n,r[t]))})}addListeners(){if(!this.visualElement.current)return;rC.set(this.visualElement,this);let e=s8(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:s=!0}=this.getProps();t&&s&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();rr(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",t);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),eP.read(t);let i=s4(window,"resize",()=>this.scalePositionWithinConstraints()),n=s.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(rv(t=>{let s=this.getAxisMotionValue(t);s&&(this.originPoint[t]+=e[t].translate,s.set(s.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:n=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:n,dragMomentum:a}}}function rI(e,t,s){return(!0===t||t===e)&&(null===s||s===e)}class r$ extends sQ{constructor(e){super(e),this.removeGroupControls=ew,this.removeListeners=ew,this.controls=new rN(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ew}unmount(){this.removeGroupControls(),this.removeListeners()}}let rD=e=>(t,s)=>{e&&eP.postRender(()=>e(t,s))};class rU extends sQ{constructor(){super(...arguments),this.removePointerDownListener=ew}onPointerDown(e){this.session=new s7(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rO(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:rD(e),onStart:rD(t),onMove:s,onEnd:(e,t)=>{delete this.session,r&&eP.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=s8(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let rM=(0,_.createContext)({}),rL={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rV(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let rB={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!tc.test(e))return e;e=parseFloat(e)}let s=rV(e,t.target.x),r=rV(e,t.target.y);return`${s}% ${r}%`}},rF={},{schedule:rq,cancel:rz}=eA(queueMicrotask,!1);class rW extends _.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;Object.assign(rF,rH),i&&(t.group&&t.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rL.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:s,drag:r,isPresent:i}=this.props,n=s.projection;return n&&(n.isPresent=i,r||e.layoutDependency!==t||void 0===t?n.willUpdate():this.safeToRemove(),e.isPresent===i||(i?n.promote():n.relegate()||eP.postRender(()=>{let e=n.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rq.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rK(e){let[t,s]=O(),r=(0,_.useContext)(k);return(0,b.jsx)(rW,{...e,layoutGroup:r,switchLayoutGroup:(0,_.useContext)(rM),isPresent:t,safeToRemove:s})}let rH={borderRadius:{...rB,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rB,borderTopRightRadius:rB,borderBottomLeftRadius:rB,borderBottomRightRadius:rB,boxShadow:{correct:(e,{treeScale:t,projectionDelta:s})=>{let r=tj.parse(e);if(r.length>5)return e;let i=tj.createTransformer(e),n="number"!=typeof r[0]?1:0,a=s.x.scale*t.x,o=s.y.scale*t.y;r[0+n]/=a,r[1+n]/=o;let l=t3(a,o,.5);return"number"==typeof r[2+n]&&(r[2+n]/=l),"number"==typeof r[3+n]&&(r[3+n]/=l),i(r)}}},rG=(e,t)=>e.depth-t.depth;class rJ{constructor(){this.children=[],this.isDirty=!1}add(e){e$(this.children,e),this.isDirty=!0}remove(e){eD(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rG),this.isDirty=!1,this.children.forEach(e)}}function rY(e){let t=eF(e)?e.get():e;return eS(t)?t.toValue():t}let rX=["TopLeft","TopRight","BottomLeft","BottomRight"],rZ=rX.length,rQ=e=>"string"==typeof e?parseFloat(e):e,r0=e=>"number"==typeof e||tc.test(e);function r1(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let r2=r6(0,.5,e2),r4=r6(.5,.95,ew);function r6(e,t,s){return r=>r<e?0:r>t?1:s(er(e,t,r))}function r5(e,t){e.min=t.min,e.max=t.max}function r8(e,t){r5(e.x,t.x),r5(e.y,t.y)}function r9(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function r7(e,t,s,r,i){return e-=t,e=r+1/s*(e-r),void 0!==i&&(e=r+1/i*(e-r)),e}function r3(e,t,[s,r,i],n,a){!function(e,t=0,s=1,r=.5,i,n=e,a=e){if(tu.test(t)&&(t=parseFloat(t),t=t3(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=t3(n.min,n.max,r);e===n&&(o-=t),e.min=r7(e.min,t,s,o,i),e.max=r7(e.max,t,s,o,i)}(e,t[s],t[r],t[i],t.scale,n,a)}let ie=["x","scaleX","originX"],it=["y","scaleY","originY"];function is(e,t,s,r){r3(e.x,t,ie,s?s.x:void 0,r?r.x:void 0),r3(e.y,t,it,s?s.y:void 0,r?r.y:void 0)}function ir(e){return 0===e.translate&&1===e.scale}function ii(e){return ir(e.x)&&ir(e.y)}function ia(e,t){return e.min===t.min&&e.max===t.max}function io(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function il(e,t){return io(e.x,t.x)&&io(e.y,t.y)}function ih(e){return ri(e.x)/ri(e.y)}function iu(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ic{constructor(){this.members=[]}add(e){e$(this.members,e),e.scheduleRender()}remove(e){if(eD(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let s=this.members.findIndex(t=>e===t);if(0===s)return!1;for(let e=s;e>=0;e--){let s=this.members[e];if(!1!==s.isPresent){t=s;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;!1===r&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let id={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ip="undefined"!=typeof window&&void 0!==window.MotionDebug,im=["","X","Y","Z"],ig={visibility:"hidden"},iy=0;function iv(e,t,s,r){let{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ib({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},s=null==t?void 0:t()){this.id=iy++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ip&&(id.totalNodes=id.resolvedTargetDeltas=id.recalculatedProjection=0),this.nodes.forEach(i_),this.nodes.forEach(iP),this.nodes.forEach(iR),this.nodes.forEach(ik),ip&&window.MotionDebug.record(id)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new rJ)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new eU),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let s=this.eventHandlers.get(e);s&&s.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:r,layout:i,visualElement:n}=this.options;if(n&&!n.current&&n.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(i||r)&&(this.isLayoutDirty=!0),e){let s;let r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,s&&s(),s=function(e,t){let s=eI.now(),r=({timestamp:t})=>{let i=t-s;i>=250&&(eR(r),e(i-250))};return eP.read(r,!0),()=>eR(r)}(r,250),rL.hasAnimatedSinceResize&&(rL.hasAnimatedSinceResize=!1,this.nodes.forEach(iA))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&n&&(r||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:s,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||n.getDefaultTransition()||iD,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=n.getProps(),l=!this.targetLayout||!il(this.targetLayout,r)||s,h=!t&&s;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||h||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,h);let t={...Y(i,"layout"),onPlay:a,onComplete:o};(n.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||iA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,eR(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iO),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:s}=t.options;if(!s)return;let r=s.props[eW];if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:e,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",eP,!(e||s))}let{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&e(i)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:s}=this.options;if(void 0===t&&!s)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ij);return}this.isUpdating||this.nodes.forEach(iT),this.isUpdating=!1,this.nodes.forEach(iE),this.nodes.forEach(iw),this.nodes.forEach(ix),this.clearAllSnapshots();let e=eI.now();eO.delta=e5(0,1e3/60,e-eO.timestamp),eO.timestamp=e,eO.isProcessing=!0,eC.update.process(eO),eC.preRender.process(eO),eC.render.process(eO),eO.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rq.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iS),this.sharedNodes.forEach(iC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,eP.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){eP.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ry(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ii(this.projectionDelta),s=this.getTransformTemplate(),r=s?s(this.latestValues,""):void 0,n=r!==this.prevTransformTemplateValue;e&&(t||r_(this.latestValues)||n)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let s=this.measurePageBox(),r=this.removeElementScroll(s);return e&&(r=this.removeTransform(r)),iL((t=r).x),iL(t.y),{animationId:this.root.animationId,measuredBox:s,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var e;let{visualElement:t}=this.options;if(!t)return ry();let s=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(iB))){let{scroll:e}=this.root;e&&(rE(s.x,e.offset.x),rE(s.y,e.offset.y))}return s}removeElementScroll(e){var t;let s=ry();if(r8(s,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return s;for(let t=0;t<this.path.length;t++){let r=this.path[t],{scroll:i,options:n}=r;r!==this.root&&i&&n.layoutScroll&&(i.wasRoot&&r8(s,e),rE(s.x,i.offset.x),rE(s.y,i.offset.y))}return s}applyTransform(e,t=!1){let s=ry();r8(s,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&rP(s,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),r_(r.latestValues)&&rP(s,r.latestValues)}return r_(this.latestValues)&&rP(s,this.latestValues),s}removeTransform(e){let t=ry();r8(t,e);for(let e=0;e<this.path.length;e++){let s=this.path[e];if(!s.instance||!r_(s.latestValues))continue;rx(s.latestValues)&&s.updateSnapshot();let r=ry();r8(r,s.measurePageBox()),is(t,s.latestValues,s.snapshot?s.snapshot.layoutBox:void 0,r)}return r_(this.latestValues)&&is(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==eO.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t,s,r,i;let n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);let a=!!this.resumingFrom||this!==n;if(!(e||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:o,layoutId:l}=this.options;if(this.layout&&(o||l)){if(this.resolvedRelativeTargetAt=eO.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ry(),this.relativeTargetOrigin=ry(),rh(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),r8(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=ry(),this.targetWithTransforms=ry()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),s=this.target,r=this.relativeTarget,i=this.relativeParent.target,ro(s.x,r.x,i.x),ro(s.y,r.y,i.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):r8(this.target,this.layout.layoutBox),rT(this.target,this.targetDelta)):r8(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ry(),this.relativeTargetOrigin=ry(),rh(this.relativeTargetOrigin,this.target,e.target),r8(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ip&&id.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||rx(this.parent.latestValues)||rk(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),s=!!this.resumingFrom||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===eO.timestamp&&(r=!1),r)return;let{layout:i,layoutId:n}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||n))return;r8(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;(function(e,t,s,r=!1){let i,n;let a=s.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){n=(i=s[o]).projectionDelta;let{visualElement:a}=i.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&rP(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),n&&(t.x*=n.x.scale,t.y*=n.y.scale,rT(e,n)),r&&r_(i.latestValues)&&rP(e,i.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}})(this.layoutCorrected,this.treeScale,this.path,s),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=ry());let{target:l}=t;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(r9(this.prevProjectionDelta.x,this.projectionDelta.x),r9(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ra(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&iu(this.projectionDelta.x,this.prevProjectionDelta.x)&&iu(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ip&&id.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rm(),this.projectionDelta=rm(),this.projectionDeltaWithTransform=rm()}setAnimationOrigin(e,t=!1){let s;let r=this.snapshot,i=r?r.latestValues:{},n={...this.latestValues},a=rm();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=ry(),l=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),h=this.getStack(),u=!h||h.members.length<=1,c=!!(l&&!u&&!0===this.options.crossfade&&!this.path.some(i$));this.animationProgress=0,this.mixTargetDelta=t=>{let r=t/1e3;if(iN(a.x,e.x,r),iN(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var h,d,p,f;rh(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,iI(p.x,f.x,o.x,r),iI(p.y,f.y,o.y,r),s&&(h=this.relativeTarget,d=s,ia(h.x,d.x)&&ia(h.y,d.y))&&(this.isProjectionDirty=!1),s||(s=ry()),r8(s,this.relativeTarget)}l&&(this.animationValues=n,function(e,t,s,r,i,n){i?(e.opacity=t3(0,void 0!==s.opacity?s.opacity:1,r2(r)),e.opacityExit=t3(void 0!==t.opacity?t.opacity:1,0,r4(r))):n&&(e.opacity=t3(void 0!==t.opacity?t.opacity:1,void 0!==s.opacity?s.opacity:1,r));for(let i=0;i<rZ;i++){let n=`border${rX[i]}Radius`,a=r1(t,n),o=r1(s,n);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||r0(a)===r0(o)?(e[n]=Math.max(t3(rQ(a),rQ(o),r),0),(tu.test(o)||tu.test(a))&&(e[n]+="%")):e[n]=o)}(t.rotate||s.rotate)&&(e.rotate=t3(t.rotate||0,s.rotate||0,r))}(n,i,this.latestValues,r,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(eR(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eP.update(()=>{rL.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,s){let r=eF(0)?0:eB(0);return r.start(sz("",r,1e3,s)),r.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:s,layout:r,latestValues:i}=e;if(t&&s&&r){if(this!==e&&this.layout&&r&&iV(this.options.animationType,this.layout.layoutBox,r.layoutBox)){s=this.target||ry();let t=ri(this.layout.layoutBox.x);s.x.min=e.target.x.min,s.x.max=s.x.min+t;let r=ri(this.layout.layoutBox.y);s.y.min=e.target.y.min,s.y.max=s.y.min+r}r8(t,s),rP(t,i),ra(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ic),this.sharedNodes.get(e).add(t);let s=t.options.initialPromotionConfig;t.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:s}={}){let r=this.getStack();r&&r.promote(this,s),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:s}=e;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(t=!0),!t)return;let r={};s.z&&iv("z",e,r,this.animationValues);for(let t=0;t<im.length;t++)iv(`rotate${im[t]}`,e,r,this.animationValues),iv(`skew${im[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}getProjectionStyles(e){var t,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ig;let r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=rY(null==e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;let n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=rY(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!r_(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}let a=n.animationValues||n.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,s){let r="",i=e.x.translate/t.x,n=e.y.translate/t.y,a=(null==s?void 0:s.z)||0;if((i||n||a)&&(r=`translate3d(${i}px, ${n}px, ${a}px) `),(1!==t.x||1!==t.y)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:n,skewX:a,skewY:o}=s;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),n&&(r+=`rotateY(${n}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));let{x:o,y:l}=this.projectionDelta;for(let e in r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,n.animationValues?r.opacity=n===this?null!==(s=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==s?s:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=n===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,rF){if(void 0===a[e])continue;let{correct:t,applyTo:s}=rF[e],i="none"===r.transform?a[e]:t(a[e],n);if(s){let e=s.length;for(let t=0;t<e;t++)r[s[t]]=i}else r[e]=i}return this.options.layoutId&&(r.pointerEvents=n===this?rY(null==e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(ij),this.root.sharedNodes.clear()}}}function iw(e){e.updateLayout()}function ix(e){var t;let s=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,n=s.source!==e.layout.source;"size"===i?rv(e=>{let r=n?s.measuredBox[e]:s.layoutBox[e],i=ri(r);r.min=t[e].min,r.max=r.min+i}):iV(i,s.layoutBox,t)&&rv(r=>{let i=n?s.measuredBox[r]:s.layoutBox[r],a=ri(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});let a=rm();ra(a,t,s.layoutBox);let o=rm();n?ra(o,e.applyTransform(r,!0),s.measuredBox):ra(o,t,s.layoutBox);let l=!ii(a),h=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:n}=r;if(i&&n){let a=ry();rh(a,s.layoutBox,i.layoutBox);let o=ry();rh(o,t,n.layoutBox),il(a,o)||(h=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:s,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:h})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function i_(e){ip&&id.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ik(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iS(e){e.clearSnapshot()}function ij(e){e.clearMeasurements()}function iT(e){e.isLayoutDirty=!1}function iE(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function iA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iP(e){e.resolveTargetDelta()}function iR(e){e.calcProjection()}function iO(e){e.resetSkewAndRotation()}function iC(e){e.removeLeadSnapshot()}function iN(e,t,s){e.translate=t3(t.translate,0,s),e.scale=t3(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function iI(e,t,s,r){e.min=t3(t.min,s.min,r),e.max=t3(t.max,s.max,r)}function i$(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let iD={duration:.45,ease:[.4,0,.1,1]},iU=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),iM=iU("applewebkit/")&&!iU("chrome/")?Math.round:ew;function iL(e){e.min=iM(e.min),e.max=iM(e.max)}function iV(e,t,s){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(ih(t)-ih(s)))}function iB(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}let iF=ib({attachResizeListener:(e,t)=>s4(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iq={current:void 0},iz=ib({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iq.current){let e=new iF({});e.mount(window),e.setOptions({layoutScroll:!0}),iq.current=e}return iq.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function iW(e,t,s){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===s);let i=r["onHover"+s];i&&eP.postRender(()=>i(t,s6(t)))}class iK extends sQ{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,s={}){let[r,i,n]=el(e,s),a=eh(e=>{let{target:s}=e,r=t(e);if("function"!=typeof r||!s)return;let n=eh(e=>{r(e),s.removeEventListener("pointerleave",n)});s.addEventListener("pointerleave",n,i)});return r.forEach(e=>{e.addEventListener("pointerenter",a,i)}),n}(e,e=>(iW(this.node,e,"Start"),e=>iW(this.node,e,"End"))))}unmount(){}}class iH extends sQ{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sl(s4(this.node.current,"focus",()=>this.onFocus()),s4(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iG(e,t,s){let{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===s);let i=r["onTap"+("End"===s?"":s)];i&&eP.postRender(()=>i(t,s6(t)))}class iJ extends sQ{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,s={}){let[r,i,n]=el(e,s),a=e=>{let r=e.currentTarget;if(!ey(e)||ep.has(r))return;ep.add(r);let n=t(e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),ey(e)&&ep.has(r)&&(ep.delete(r),"function"==typeof n&&n(e,{success:t}))},o=e=>{a(e,s.useGlobalTarget||eu(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{ed.has(e.tagName)||-1!==e.tabIndex||null!==e.getAttribute("tabindex")||(e.tabIndex=0),(s.useGlobalTarget?window:e).addEventListener("pointerdown",a,i),e.addEventListener("focus",e=>eg(e,i),i)}),n}(e,e=>(iG(this.node,e,"Start"),(e,{success:t})=>iG(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let iY=new WeakMap,iX=new WeakMap,iZ=e=>{let t=iY.get(e.target);t&&t(e)},iQ=e=>{e.forEach(iZ)},i0={some:0,all:1};class i1 extends sQ{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:r="some",once:i}=e,n={root:t?t.current:void 0,rootMargin:s,threshold:"number"==typeof r?r:i0[r]};return function(e,t,s){let r=function({root:e,...t}){let s=e||document;iX.has(s)||iX.set(s,{});let r=iX.get(s),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(iQ,{root:e,...t})),r[i]}(t);return iY.set(e,s),r.observe(e),()=>{iY.delete(e),r.unobserve(e)}}(this.node.current,n,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:s,onViewportLeave:r}=this.node.getProps(),n=t?s:r;n&&n(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}(e,t))&&this.startObserver()}unmount(){}}let i2=(0,_.createContext)({strict:!1}),i4=(0,_.createContext)({});function i6(e){return U(e.animate)||W.some(t=>V(e[t]))}function i5(e){return!!(i6(e)||e.variants)}function i8(e){return Array.isArray(e)?e.join(" "):e}let i9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},i7={};for(let e in i9)i7[e]={isEnabled:t=>i9[e].some(e=>!!t[e])};let i3=Symbol.for("motionComponentSymbol"),ne=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nt(e){if("string"!=typeof e||e.includes("-"));else if(ne.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let ns=e=>(t,s)=>{let r=(0,_.useContext)(i4),i=(0,_.useContext)(j),n=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},r,i,n){let a={latestValues:function(e,t,s,r){let i={},n=r(e,{});for(let e in n)i[e]=rY(n[e]);let{initial:a,animate:o}=e,l=i6(e),h=i5(e);t&&h&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!s&&!1===s.initial,c=(u=u||!1===a)?o:a;if(c&&"boolean"!=typeof c&&!U(c)){let t=Array.isArray(c)?c:[c];for(let s=0;s<t.length;s++){let r=F(e,t[s]);if(r){let{transitionEnd:e,transition:t,...s}=r;for(let e in s){let t=s[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}null!==t&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}(r,i,n,e),renderState:t()};return s&&(a.onMount=e=>s({props:r,current:e,...a}),a.onUpdate=e=>s(e)),a})(e,t,r,i);return s?n():S(n)},nr=(e,t)=>t&&"number"==typeof e?t.transform(e):e,ni={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nn=ex.length;function na(e,t,s){let{style:r,vars:i,transformOrigin:n}=e,a=!1,o=!1;for(let e in t){let s=t[e];if(e_.has(e)){a=!0;continue}if(tY(e)){i[e]=s;continue}{let t=nr(s,tO[e]);e.startsWith("origin")?(o=!0,n[e]=t):r[e]=t}}if(!t.transform&&(a||s?r.transform=function(e,t,s){let r="",i=!0;for(let n=0;n<nn;n++){let a=ex[n],o=e[a];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o))||s){let e=nr(o,tO[a]);if(!l){i=!1;let t=ni[a]||a;r+=`${t}(${e}) `}s&&(t[a]=e)}}return r=r.trim(),s?r=s(t,i?"":r):i&&(r="none"),r}(t,e.transform,s):r.transform&&(r.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:s=0}=n;r.transformOrigin=`${e} ${t} ${s}`}}let no={offset:"stroke-dashoffset",array:"stroke-dasharray"},nl={offset:"strokeDashoffset",array:"strokeDasharray"};function nh(e,t,s){return"string"==typeof e?e:tc.transform(t+s*e)}function nu(e,{attrX:t,attrY:s,attrScale:r,originX:i,originY:n,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...h},u,c){if(na(e,h,c),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:p,dimensions:f}=e;d.transform&&(f&&(p.transform=d.transform),delete d.transform),f&&(void 0!==i||void 0!==n||p.transform)&&(p.transformOrigin=function(e,t,s){let r=nh(t,e.x,e.width),i=nh(s,e.y,e.height);return`${r} ${i}`}(f,void 0!==i?i:.5,void 0!==n?n:.5)),void 0!==t&&(d.x=t),void 0!==s&&(d.y=s),void 0!==r&&(d.scale=r),void 0!==a&&function(e,t,s=1,r=0,i=!0){e.pathLength=1;let n=i?no:nl;e[n.offset]=tc.transform(-r);let a=tc.transform(t),o=tc.transform(s);e[n.array]=`${a} ${o}`}(d,a,o,l,!1)}let nc=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),nd=()=>({...nc(),attrs:{}}),np=e=>"string"==typeof e&&"svg"===e.toLowerCase();function nf(e,{style:t,vars:s},r,i){for(let n in Object.assign(e.style,t,i&&i.getProjectionStyles(r)),s)e.style.setProperty(n,s[n])}let nm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ng(e,t,s,r){for(let s in nf(e,t,void 0,r),t.attrs)e.setAttribute(nm.has(s)?s:ez(s),t.attrs[s])}function ny(e,{layout:t,layoutId:s}){return e_.has(e)||e.startsWith("origin")||(t||void 0!==s)&&(!!rF[e]||"opacity"===e)}function nv(e,t,s){var r;let{style:i}=e,n={};for(let a in i)(eF(i[a])||t.style&&eF(t.style[a])||ny(a,e)||(null===(r=null==s?void 0:s.getValue(a))||void 0===r?void 0:r.liveStyle)!==void 0)&&(n[a]=i[a]);return n}function nb(e,t,s){let r=nv(e,t,s);for(let s in e)(eF(e[s])||eF(t[s]))&&(r[-1!==ex.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]);return r}let nw=["x","y","width","height","cx","cy","r"],nx={useVisualState:ns({scrapeMotionValuesFromProps:nb,createRenderState:nd,onUpdate:({props:e,prevProps:t,current:s,renderState:r,latestValues:i})=>{if(!s)return;let n=!!e.drag;if(!n){for(let e in i)if(e_.has(e)){n=!0;break}}if(!n)return;let a=!t;if(t)for(let s=0;s<nw.length;s++){let r=nw[s];e[r]!==t[r]&&(a=!0)}a&&eP.read(()=>{(function(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(e){t.dimensions={x:0,y:0,width:0,height:0}}})(s,r),eP.render(()=>{nu(r,i,np(s.tagName),e.transformTemplate),ng(s,r)})})}})},n_={useVisualState:ns({scrapeMotionValuesFromProps:nv,createRenderState:nc})};function nk(e,t,s){for(let r in t)eF(t[r])||ny(r,s)||(e[r]=t[r])}let nS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nj(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nS.has(e)}let nT=e=>!nj(e);try{!function(e){e&&(nT=t=>t.startsWith("on")?!nj(t):e(t))}(require("@emotion/is-prop-valid").default)}catch(e){}let nE={current:null},nA={current:!1},nP=[...t2,tg,tj],nR=e=>nP.find(t1(e)),nO=new WeakMap,nC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nN{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:n},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tH,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=eI.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,eP.render(this.render,!1,!0))};let{latestValues:o,renderState:l,onUpdate:h}=n;this.onUpdate=h,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=i6(t),this.isVariantNode=i5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in c){let t=c[e];void 0!==o[e]&&eF(t)&&t.set(o[e],!1)}}mount(e){this.current=e,nO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),nA.current||function(){if(nA.current=!0,I){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nE.current=e.matches;e.addListener(t),t()}else nE.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||nE.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in nO.delete(this.current),this.projection&&this.projection.unmount(),eR(this.notifyUpdate),eR(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let s;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let r=e_.has(e),i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&eP.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),n=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),n(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in i7){let t=i7[e];if(!t)continue;let{isEnabled:s,Feature:r}=t;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ry()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<nC.length;t++){let s=nC[t];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);let r=e["on"+s];r&&(this.propEventSubscriptions[s]=this.on(s,r))}this.prevMotionValues=function(e,t,s){for(let r in t){let i=t[r],n=s[r];if(eF(i))e.addValue(r,i);else if(eF(n))e.addValue(r,eB(i,{owner:e}));else if(n!==i){if(e.hasValue(r)){let t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(r);e.addValue(r,eB(void 0!==t?t:i,{owner:e}))}}}for(let r in s)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return void 0===s&&void 0!==t&&(s=eB(null===t?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){var s;let r=void 0===this.latestValues[e]&&this.current?null!==(s=this.getBaseTargetFromProps(this.props,e))&&void 0!==s?s:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=r&&("string"==typeof r&&(tG(r)||e6(r))?r=parseFloat(r):!nR(r)&&tj.test(t)&&(r=tI(e,t)),this.setBaseTarget(e,eF(r)?r.get():r)),eF(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;let s;let{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let i=F(this.props,r,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(s=i[e])}if(r&&void 0!==s)return s;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||eF(i)?void 0!==this.initialValues[e]&&void 0===s?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new eU),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class nI extends nN{constructor(){super(...arguments),this.KeyframeResolver=t6}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;eF(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class n$ extends nI{constructor(){super(...arguments),this.type="html",this.renderInstance=nf}readValueFromInstance(e,t){if(e_.has(t)){let e=tN(t);return e&&e.default||0}{let s=window.getComputedStyle(e),r=(tY(t)?s.getPropertyValue(t):s[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return rR(e,t)}build(e,t,s){na(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return nv(e,t,s)}}class nD extends nI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ry}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(e_.has(t)){let e=tN(t);return e&&e.default||0}return t=nm.has(t)?t:ez(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return nb(e,t,s)}build(e,t,s){nu(e,t,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,s,r){ng(e,t,s,r)}mount(e){this.isSVGTag=np(e.tagName),super.mount(e)}}let nU=function(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(s,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}((a={animation:{Feature:s0},exit:{Feature:s2},inView:{Feature:i1},tap:{Feature:iJ},focus:{Feature:iH},hover:{Feature:iK},pan:{Feature:rU},drag:{Feature:r$,ProjectionNode:iz,MeasureLayout:rK},layout:{ProjectionNode:iz,MeasureLayout:rK}},o=(e,t)=>nt(e)?new nD(t):new n$(t,{allowProjection:e!==_.Fragment}),function(e,{forwardMotionProps:t}={forwardMotionProps:!1}){return function({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:i}){var n,a;function o(e,n){var a;let o;let l={...(0,_.useContext)(T),...e,layoutId:function({layoutId:e}){let t=(0,_.useContext)(k).id;return t&&void 0!==e?t+"-"+e:e}(e)},{isStatic:h}=l,u=function(e){let{initial:t,animate:s}=function(e,t){if(i6(e)){let{initial:t,animate:s}=e;return{initial:!1===t||V(t)?t:void 0,animate:V(s)?s:void 0}}return!1!==e.inherit?t:{}}(e,(0,_.useContext)(i4));return(0,_.useMemo)(()=>({initial:t,animate:s}),[i8(t),i8(s)])}(e),c=r(e,h);if(!h&&I){(0,_.useContext)(i2).strict;let e=function(e){let{drag:t,layout:s}=i7;if(!t&&!s)return{};let r={...t,...s};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==s?void 0:s.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=e.MeasureLayout,u.visualElement=function(e,t,s,r,i){var n,a;let{visualElement:o}=(0,_.useContext)(i4),l=(0,_.useContext)(i2),h=(0,_.useContext)(j),u=(0,_.useContext)(T).reducedMotion,c=(0,_.useRef)(null);r=r||l.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:s,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:u}));let d=c.current,p=(0,_.useContext)(rM);d&&!d.projection&&i&&("html"===d.type||"svg"===d.type)&&function(e,t,s,r){let{layoutId:i,layout:n,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:h}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:i,layout:n,alwaysMeasureLayout:!!a||o&&rr(o),visualElement:e,animationType:"string"==typeof n?n:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:h})}(c.current,s,i,p);let f=(0,_.useRef)(!1);(0,_.useInsertionEffect)(()=>{d&&f.current&&d.update(s,h)});let m=s[eW],g=(0,_.useRef)(!!m&&!(null===(n=window.MotionHandoffIsComplete)||void 0===n?void 0:n.call(window,m))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,m)));return $(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),rq.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())}),(0,_.useEffect)(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,m)}),g.current=!1))}),d}(i,c,l,t,e.ProjectionNode)}return(0,b.jsxs)(i4.Provider,{value:u,children:[o&&u.visualElement?(0,b.jsx)(o,{visualElement:u.visualElement,...l}):null,s(i,e,(a=u.visualElement,(0,_.useCallback)(e=>{e&&c.onMount&&c.onMount(e),a&&(e?a.mount(e):a.unmount()),n&&("function"==typeof n?n(e):rr(n)&&(n.current=e))},[a])),c,h,u.visualElement)]})}e&&function(e){for(let t in e)i7[t]={...i7[t],...e[t]}}(e),o.displayName=`motion.${"string"==typeof i?i:`create(${null!==(a=null!==(n=i.displayName)&&void 0!==n?n:i.name)&&void 0!==a?a:""})`}`;let l=(0,_.forwardRef)(o);return l[i3]=i,l}({...nt(e)?nx:n_,preloadedFeatures:a,useRender:function(e=!1){return(t,s,r,{latestValues:i},n)=>{let a=(nt(t)?function(e,t,s,r){let i=(0,_.useMemo)(()=>{let s=nd();return nu(s,t,np(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){let t={};nk(t,e.style,e),i.style={...t,...i.style}}return i}:function(e,t){let s={},r=function(e,t){let s=e.style||{},r={};return nk(r,s,e),Object.assign(r,function({transformTemplate:e},t){return(0,_.useMemo)(()=>{let s=nc();return na(s,t,e),Object.assign({},s.vars,s.style)},[t])}(e,t)),r}(e,t);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s})(s,i,n,t),o=function(e,t,s){let r={};for(let i in e)("values"!==i||"object"!=typeof e.values)&&(nT(i)||!0===s&&nj(i)||!t&&!nj(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(s,"string"==typeof t,e),l=t!==_.Fragment?{...o,...a,ref:r}:{},{children:h}=s,u=(0,_.useMemo)(()=>eF(h)?h.get():h,[h]);return(0,_.createElement)(t,{...l,children:u})}}(t),createVisualElement:o,Component:e})})),nM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nL=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let nB=(0,_.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:n,iconNode:a,...o},l)=>(0,_.createElement)("svg",{ref:l,...nV,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:nL("lucide",i),...o},[...a.map(([e,t])=>(0,_.createElement)(e,t)),...Array.isArray(n)?n:[n]])),nF=(e,t)=>{let s=(0,_.forwardRef)(({className:s,...r},i)=>(0,_.createElement)(nB,{ref:i,iconNode:t,className:nL(`lucide-${nM(e)}`,s),...r}));return s.displayName=`${e}`,s},nq=nF("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),nz=nF("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),nW=nF("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),nK=nF("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),nH=nF("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),nG=nF("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),nJ=nF("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),nY=nF("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),nX=nF("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),nZ=nF("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),nQ=nF("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),n0=nF("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),n1=nF("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),n2=nF("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),n4=nF("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),n6=nF("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),n5=nF("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),n8=nF("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),n9=nF("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),n7=nF("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function n3(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;let ae=e=>e?(...t)=>e(...t):(...e)=>fetch(...e);class at extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class as extends at{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ar extends at{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ai extends at{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(l||(l={}));class an{constructor(e,{headers:t={},customFetch:s,region:r=l.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=ae(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){var t,s,r,i;return t=this,s=arguments,r=void 0,i=function*(e,t={}){var s;let r,i;try{let n;let{headers:a,method:o,body:l,signal:h,timeout:u}=t,c={},{region:d}=t;d||(d=this.region);let p=new URL(`${this.url}/${e}`);d&&"any"!==d&&(c["x-region"]=d,p.searchParams.set("forceFunctionRegion",d)),l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?"undefined"!=typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",n=l):"string"==typeof l?(c["Content-Type"]="text/plain",n=l):"undefined"!=typeof FormData&&l instanceof FormData?n=l:(c["Content-Type"]="application/json",n=JSON.stringify(l)):!l||"string"==typeof l||"undefined"!=typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"undefined"!=typeof FormData&&l instanceof FormData?n=l:n=JSON.stringify(l);let f=h;u&&(i=new AbortController,r=setTimeout(()=>i.abort(),u),h?(f=i.signal,h.addEventListener("abort",()=>i.abort())):f=i.signal);let m=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:n,signal:f}).catch(e=>{throw new as(e)}),g=m.headers.get("x-relay-error");if(g&&"true"===g)throw new ar(m);if(!m.ok)throw new ai(m);let y=(null!==(s=m.headers.get("Content-Type"))&&void 0!==s?s:"text/plain").split(";")[0].trim();return{data:"application/json"===y?yield m.json():"application/octet-stream"===y||"application/pdf"===y?yield m.blob():"text/event-stream"===y?m:"multipart/form-data"===y?yield m.formData():yield m.text(),error:null,response:m}}catch(e){return{data:null,error:e,response:e instanceof ai||e instanceof ar?e.context:void 0}}finally{r&&clearTimeout(r)}},new(r||(r=Promise))(function(e,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function o(e){try{l(i.throw(e))}catch(e){n(e)}}function l(t){var s;t.done?e(t.value):((s=t.value)instanceof r?s:new r(function(e){e(s)})).then(a,o)}l((i=i.apply(t,s||[])).next())})}}var aa=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},ao=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(s=e.isMaybeSingle)&&void 0!==s&&s,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var s=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,i,n;let a=null,o=null,l=null,h=e.status,u=e.statusText;if(e.ok){if("HEAD"!==s.method){let t=await e.text();""===t||(o="text/csv"===s.headers.get("Accept")?t:s.headers.get("Accept")&&(null===(i=s.headers.get("Accept"))||void 0===i?void 0:i.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}let n=null===(t=s.headers.get("Prefer"))||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&c&&c.length>1&&(l=parseInt(c[1])),s.isMaybeSingle&&"GET"===s.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,h=406,u="Not Acceptable"):o=1===o.length?o[0]:null)}else{let t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,h=200,u="OK")}catch(s){404===e.status&&""===t?(h=204,u="No Content"):a={message:t}}if(a&&s.isMaybeSingle&&(null==a||null===(n=a.details)||void 0===n?void 0:n.includes("0 rows"))&&(a=null,h=200,u="OK"),a&&s.shouldThrowOnError)throw new aa(a)}return{error:a,data:o,count:l,status:h,statusText:u}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,s,r,i,n,a;let o="",l=null==e?void 0:e.cause;if(l){let t=null!==(s=null==l?void 0:l.message)&&void 0!==s?s:"",a=null!==(r=null==l?void 0:l.code)&&void 0!==r?r:"";o=`${null!==(i=null==e?void 0:e.name)&&void 0!==i?i:"FetchError"}: ${null==e?void 0:e.message}

Caused by: ${null!==(n=null==l?void 0:l.name)&&void 0!==n?n:"Error"}: ${t}`,a&&(o+=` (${a})`),(null==l?void 0:l.stack)&&(o+=`
${l.stack}`)}else o=null!==(a=null==e?void 0:e.stack)&&void 0!==a?a:"";return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},al=class extends ao{select(e){let t=!1,s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){let n=i?`${i}.order`:"order",a=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===s?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){let r=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:r=s}={}){let i=void 0===r?"offset":`${r}.offset`,n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(n,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:n="text"}={}){var a;let o=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${n}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};let ah=RegExp("[,()]");var au=class extends al{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let s=Array.from(new Set(t)).map(e=>"string"==typeof e&&ah.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}notIn(e,t){let s=Array.from(new Set(t)).map(e=>"string"==typeof e&&ah.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`not.in.(${s})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:r}={}){let i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");let n=void 0===s?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${n}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){let r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}},ac=class{constructor(e,{headers:t={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:s=!1,count:r}=null!=t?t:{},i=!1,n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join(""),{url:a,headers:o}=this.cloneRequestState();return a.searchParams.set("select",n),r&&o.append("Prefer",`count=${r}`),new au({method:s?"HEAD":"GET",url:a,headers:o,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:s=!0}={}){var r;let{url:i,headers:n}=this.cloneRequestState();if(t&&n.append("Prefer",`count=${t}`),s||n.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);i.searchParams.set("columns",e.join(","))}}return new au({method:"POST",url:i,headers:n,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){var n;let{url:a,headers:o}=this.cloneRequestState();if(o.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),void 0!==t&&a.searchParams.set("on_conflict",t),r&&o.append("Prefer",`count=${r}`),i||o.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);a.searchParams.set("columns",e.join(","))}}return new au({method:"POST",url:a,headers:o,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}update(e,{count:t}={}){var s;let{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new au({method:"PATCH",url:r,headers:i,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}delete({count:e}={}){var t;let{url:s,headers:r}=this.cloneRequestState();return e&&r.append("Prefer",`count=${e}`),new au({method:"DELETE",url:s,headers:r,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},ad=class e{constructor(e,{headers:t={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=r}from(e){if(!e||"string"!=typeof e||""===e.trim())throw Error("Invalid relation name: relation must be a non-empty string.");return new ac(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:r=!1,count:i}={}){var n;let a,o;let l=new URL(`${this.url}/rpc/${e}`),h=e=>null!==e&&"object"==typeof e&&(!Array.isArray(e)||e.some(h)),u=s&&Object.values(t).some(h);u?(a="POST",o=t):s||r?(a=s?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(a="POST",o=t);let c=new Headers(this.headers);return u?c.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&c.set("Prefer",`count=${i}`),new au({method:a,url:l,headers:c,schema:this.schemaName,body:o,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}};class ap{constructor(){}static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let t=globalThis.process;if(t){let e=t.versions;if(e&&e.node){let t=parseInt(e.node.replace(/^v/,"").split(".")[0]);return t>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}let af="2.0.0";(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(h||(h={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(u||(u={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(c||(c={})),(d||(d={})).websocket="websocket",function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(p||(p={}));class am{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=e?e:[]}encode(e,t){return e.event!==this.BROADCAST_EVENT||e.payload instanceof ArrayBuffer||"string"!=typeof e.payload.event?t(JSON.stringify([e.join_ref,e.ref,e.topic,e.event,e.payload])):t(this._binaryEncodeUserBroadcastPush(e))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;let r=null!==(s=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==s?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,s;let r=null!==(s=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==s?s:{},i=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,t,s){let r=e.topic,i=null!==(p=e.ref)&&void 0!==p?p:"",n=null!==(f=e.join_ref)&&void 0!==f?f:"",a=e.payload.event,o=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},l=0===Object.keys(o).length?"":JSON.stringify(o);if(n.length>255)throw Error(`joinRef length ${n.length} exceeds maximum of 255`);if(i.length>255)throw Error(`ref length ${i.length} exceeds maximum of 255`);if(r.length>255)throw Error(`topic length ${r.length} exceeds maximum of 255`);if(a.length>255)throw Error(`userEvent length ${a.length} exceeds maximum of 255`);if(l.length>255)throw Error(`metadata length ${l.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+n.length+i.length+r.length+a.length+l.length,u=new ArrayBuffer(this.HEADER_LENGTH+h),c=new DataView(u),d=0;c.setUint8(d++,this.KINDS.userBroadcastPush),c.setUint8(d++,n.length),c.setUint8(d++,i.length),c.setUint8(d++,r.length),c.setUint8(d++,a.length),c.setUint8(d++,l.length),c.setUint8(d++,t),Array.from(n,e=>c.setUint8(d++,e.charCodeAt(0))),Array.from(i,e=>c.setUint8(d++,e.charCodeAt(0))),Array.from(r,e=>c.setUint8(d++,e.charCodeAt(0))),Array.from(a,e=>c.setUint8(d++,e.charCodeAt(0))),Array.from(l,e=>c.setUint8(d++,e.charCodeAt(0)));var p,f,m=new Uint8Array(u.byteLength+s.byteLength);return m.set(new Uint8Array(u),0),m.set(new Uint8Array(s),u.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if("string"==typeof e){let[s,r,i,n,a]=JSON.parse(e);return t({join_ref:s,ref:r,topic:i,event:n,payload:a})}return t({})}_binaryDecode(e){let t=new DataView(e),s=t.getUint8(0),r=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,r)}_decodeUserBroadcast(e,t,s){let r=t.getUint8(1),i=t.getUint8(2),n=t.getUint8(3),a=t.getUint8(4),o=this.HEADER_LENGTH+4,l=s.decode(e.slice(o,o+r));o+=r;let h=s.decode(e.slice(o,o+i));o+=i;let u=s.decode(e.slice(o,o+n));o+=n;let c=e.slice(o,e.byteLength),d=a===this.JSON_ENCODING?JSON.parse(s.decode(c)):c,p={type:this.BROADCAST_EVENT,event:h,payload:d};return n>0&&(p.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e))):{}}}class ag{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(f||(f={}));let ay=(e,t,s={})=>{var r;let i=null!==(r=s.skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=av(r,e,t,i),s),{}):{}},av=(e,t,s,r)=>{let i=t.find(t=>t.name===e),n=null==i?void 0:i.type,a=s[e];return n&&!r.includes(n)?ab(n,a):aw(a)},ab=(e,t)=>{if("_"===e.charAt(0))return aS(t,e.slice(1,e.length));switch(e){case f.bool:return ax(t);case f.float4:case f.float8:case f.int2:case f.int4:case f.int8:case f.numeric:case f.oid:return a_(t);case f.json:case f.jsonb:return ak(t);case f.timestamp:return aj(t);case f.abstime:case f.date:case f.daterange:case f.int4range:case f.int8range:case f.money:case f.reltime:case f.text:case f.time:case f.timestamptz:case f.timetz:case f.tsrange:case f.tstzrange:default:return aw(t)}},aw=e=>e,ax=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},a_=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ak=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e},aS=(e,t)=>{if("string"!=typeof e)return e;let s=e.length-1,r=e[s];if("{"===e[0]&&"}"===r){let r;let i=e.slice(1,s);try{r=JSON.parse("["+i+"]")}catch(e){r=i?i.split(","):[]}return r.map(e=>ab(t,e))}return e},aj=e=>"string"==typeof e?e.replace(" ","T"):e,aT=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class aE{constructor(e,t,s={},r=1e4){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t(null===(s=this.receivedResp)||void 0===s?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(m||(m={}));class aA{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let s=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},e=>{let{onJoin:t,onLeave:s,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=aA.syncState(this.state,e,t,s),this.pendingDiffs.forEach(e=>{this.state=aA.syncDiff(this.state,e,t,s)}),this.pendingDiffs=[],r()}),this.channel._on(s.diff,{},e=>{let{onJoin:t,onLeave:s,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=aA.syncDiff(this.state,e,t,s),r())}),this.onJoin((e,t,s)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:s})}),this.onLeave((e,t,s)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){let i=this.cloneDeep(e),n=this.transformState(t),a={},o={};return this.map(i,(e,t)=>{n[e]||(o[e]=t)}),this.map(n,(e,t)=>{let s=i[e];if(s){let r=t.map(e=>e.presence_ref),i=s.map(e=>e.presence_ref),n=t.filter(e=>0>i.indexOf(e.presence_ref)),l=s.filter(e=>0>r.indexOf(e.presence_ref));n.length>0&&(a[e]=n),l.length>0&&(o[e]=l)}else a[e]=t}),this.syncDiff(i,{joins:a,leaves:o},s,r)}static syncDiff(e,t,s,r){let{joins:i,leaves:n}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(t,r)=>{var i;let n=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),n.length>0){let s=e[t].map(e=>e.presence_ref),r=n.filter(e=>0>s.indexOf(e.presence_ref));e[t].unshift(...r)}s(t,n,r)}),this.map(n,(t,s)=>{let i=e[t];if(!i)return;let n=s.map(e=>e.presence_ref);i=i.filter(e=>0>n.indexOf(e.presence_ref)),e[t]=i,r(t,i,s),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,s)=>{let r=e[s];return"metas"in r?t[s]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[s]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(g||(g={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(y||(y={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(v||(v={}));class aP{constructor(e,t={config:{}},s){var r,i;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=u.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new aE(this,c.join,this.params,this.timeout),this.rejoinTimer=new ag(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=u.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=u.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=u.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=u.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=u.errored,this.rejoinTimer.scheduleTimeout())}),this._on(c.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new aA(this),this.broadcastEndpointURL=aT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(i=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===i?void 0:i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==u.closed){let{config:{broadcast:n,presence:a,private:o}}=this.params,l=null!==(r=null===(s=this.bindings.postgres_changes)||void 0===s?void 0:s.map(e=>e.filter))&&void 0!==r?r:[],h=!!this.bindings[y.PRESENCE]&&this.bindings[y.PRESENCE].length>0||(null===(i=this.params.config.presence)||void 0===i?void 0:i.enabled)===!0,c={},d={broadcast:n,presence:Object.assign(Object.assign({},a),{enabled:h}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(v.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(v.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var s;if(this.socket._isManualToken()||this.socket.setAuth(),void 0===t){null==e||e(v.SUBSCRIBED);return}{let r=this.bindings.postgres_changes,i=null!==(s=null==r?void 0:r.length)&&void 0!==s?s:0,n=[];for(let s=0;s<i;s++){let i=r[s],{filter:{event:a,schema:o,table:l,filter:h}}=i,c=t&&t[s];if(c&&c.event===a&&aP.isFilterValueEqual(c.schema,o)&&aP.isFilterValueEqual(c.table,l)&&aP.isFilterValueEqual(c.filter,h))n.push(Object.assign(Object.assign({},i),{id:c.id}));else{this.unsubscribe(),this.state=u.errored,null==e||e(v.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=n,e&&e(v.SUBSCRIBED);return}}).receive("error",t=>{this.state=u.errored,null==e||e(v.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(v.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===u.joined&&e===y.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var r;if(null==t)return Promise.reject("Payload is required for httpSend()");let i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let n={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,n,null!==(r=s.timeout)&&void 0!==r?r:this.timeout);if(202===a.status)return{success:!0};let o=a.statusText;try{let e=await a.json();o=e.error||e.message||o}catch(e){}return Promise.reject(Error(o))}async send(e,t={}){var s,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(s=>{var r,i,n;let a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(n=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===n?void 0:n.ack)||s("ok"),a.receive("ok",()=>s("ok")),a.receive("error",()=>s("error")),a.receive("timeout",()=>s("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:n}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:n,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(s=t.timeout)&&void 0!==s?s:this.timeout);return await (null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=u.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(c.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{(s=new aE(this,c.leave,{},e)).receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{null==s||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=u.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){let r=new AbortController,i=setTimeout(()=>r.abort(),s),n=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),n}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new aE(this,e,t,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,i;let n=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:h}=c;if(s&&[a,o,l,h].indexOf(n)>=0&&s!==this._joinRef())return;let u=this._onMessage(n,t,s);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(n)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,s,r;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(r=null===(s=e.filter)||void 0===s?void 0:s.event)||void 0===r?void 0:r.toLocaleLowerCase())===n}).map(e=>e.callback(u,s)):null===(i=this.bindings[n])||void 0===i||i.filter(e=>{var s,r,i,a,o,l;if(!["broadcast","presence","postgres_changes"].includes(n))return e.type.toLocaleLowerCase()===n;if("id"in e){let n=e.id,a=null===(s=e.filter)||void 0===s?void 0:s.event;return n&&(null===(r=t.ids)||void 0===r?void 0:r.includes(n))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{let s=null===(o=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===s||s===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof u&&"ids"in u){let e=u.data,{schema:t,table:s,commit_timestamp:r,type:i,errors:n}=e;u=Object.assign(Object.assign({},{schema:t,table:s,commit_timestamp:r,eventType:i,new:{},old:{},errors:n}),this._getPayloadRecords(e))}e.callback(u,s)})}_isClosed(){return this.state===u.closed}_isJoined(){return this.state===u.joined}_isJoining(){return this.state===u.joining}_isLeaving(){return this.state===u.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){let r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){let s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===s&&aP.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let s in e)if(e[s]!==t[s])return!1;return!0}static isFilterValueEqual(e,t){return(null!=e?e:void 0)===(null!=t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(c.close,{},e)}_onError(e){this._on(c.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=u.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=ay(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=ay(e.columns,e.old_record)),t}}let aR=()=>{},aO={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aC=[1e3,2e3,5e3,1e4],aN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aI{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=aO.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=aR,this.ref=0,this.reconnectTimer=null,this.vsn=af,this.logger=aR,this.conn=null,this.sendBuffer=[],this.serializer=new am,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(s=null==t?void 0:t.params)||void 0===s?void 0:s.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${d.websocket}`,this.httpEndpoint=aT(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ap.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;if(e.includes("Node.js"))throw Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting()){if(this._setConnectionState("disconnecting",!0),this.conn){let s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case h.connecting:return p.Connecting;case h.open:return p.Open;case h.closing:return p.Closing;default:return p.Closed}}isConnected(){return this.connectionState()===p.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){let s=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===s);if(r)return r;{let s=new aP(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){let{topic:t,event:s,payload:r,ref:i}=e,n=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${s} (${i})`,r),this.isConnected()?n():this.sendBuffer.push(n)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},aO.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){let t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(e){this.log("error","error in heartbeat callback",e)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:t,event:s,payload:r,ref:i}=e,n=i?`(${i})`:"",a=r.status||"";this.log("receive",`${a} ${t} ${s} ${n}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(s,r,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===h.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===h.open||this.conn.readyState===h.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(e){this.log("error","error in heartbeat callback",e)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(c.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${s}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([aN],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;let s=!1;if(e)t=e,s=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(e){this.log("error","Error fetching access token from callback",e),t=this.accessTokenValue}else t=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let s={access_token:t,version:"realtime-js/2.93.3"};t&&e.updateJoinPayload(s),e.joinedOnce&&e._isJoined()&&e._push(c.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(t){this.log("error",`error in ${e} callback`,t)}})}catch(t){this.log("error",`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new ag(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},aO.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,r,i,n,a,o,l,h,u,c,d;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(s=null==e?void 0:e.timeout)&&void 0!==s?s:1e4,this.heartbeatIntervalMs=null!==(r=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:aO.HEARTBEAT_INTERVAL,this.worker=null!==(i=null==e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(n=null==e?void 0:e.accessToken)&&void 0!==n?n:null,this.heartbeatCallback=null!==(a=null==e?void 0:e.heartbeatCallback)&&void 0!==a?a:aR,this.vsn=null!==(o=null==e?void 0:e.vsn)&&void 0!==o?o:af,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>aC[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(h=null==e?void 0:e.encode)&&void 0!==h?h:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null==e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case af:this.encode=null!==(c=null==e?void 0:e.encode)&&void 0!==c?c:this.serializer.encode.bind(this.serializer),this.decode=null!==(d=null==e?void 0:e.decode)&&void 0!==d?d:this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var a$=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};async function aD(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:`Bearer ${e.token}`}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}function aU(e){return e.join("\x1f")}var aM=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:aU(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){let s={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${aU(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${aU(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${aU(e.namespace)}`}),!0}catch(e){if(e instanceof a$&&404===e.status)return!1;throw e}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(e){if(e instanceof a$&&409===e.status)return;throw e}}};function aL(e){return e.join("\x1f")}var aV=class{constructor(e,t="",s){this.client=e,this.prefix=t,this.accessDelegation=s}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${aL(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${aL(e.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(e,t){let s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${aL(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${aL(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${aL(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${aL(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(e){if(e instanceof a$&&404===e.status)return!1;throw e}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(s){if(s instanceof a$&&409===s.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw s}}},aB=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let s=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=function(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:i,body:n,headers:a}){let o=function(e,t,s){let r=new URL(t,e);if(s)for(let[e,t]of Object.entries(s))void 0!==t&&r.searchParams.set(e,t);return r.toString()}(e.baseUrl,r,i),l=await aD(e.auth),h=await t(o,{method:s,headers:{...n?{"Content-Type":"application/json"}:{},...l,...a},body:n?JSON.stringify(n):void 0}),u=await h.text(),c=(h.headers.get("content-type")||"").includes("application/json"),d=c&&u?JSON.parse(u):u;if(!h.ok){let e=c?d:void 0,t=e?.error;throw new a$(t?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:t?.type,icebergCode:t?.code,details:e})}return{status:h.status,headers:h.headers,data:d}}}}({baseUrl:s,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new aM(this.client,t),this.tableOps=new aV(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},aF=class extends Error{constructor(e,t="storage",s,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name="vectors"===t?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function aq(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}var az=class extends aF{constructor(e,t,s,r="storage"){super(e,r,t,s),this.name="vectors"===r?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},aW=class extends aF{constructor(e,t,s="storage"){super(e,s),this.name="vectors"===s?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};let aK=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),aH=e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},aG=e=>{if(Array.isArray(e))return e.map(e=>aG(e));if("function"==typeof e||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,s])=>{t[e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""))]=aG(s)}),t},aJ=e=>!(!e||"string"!=typeof e||0===e.length||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\"))&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function aY(e){return(aY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aX(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function aZ(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?aX(Object(s),!0).forEach(function(t){!function(e,t,s){var r;(r=function(e,t){if("object"!=aY(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=aY(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==aY(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):aX(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let aQ=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},a0=async(e,t,s,r)=>{if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==s?void 0:s.noResolveJson)){let s=e.status||500;"function"==typeof e.json?e.json().then(e=>{let i=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||s+"";t(new az(aQ(e),s,i,r))}).catch(()=>{t(new az(e.statusText||`HTTP ${s} error`,s,s+"",r))}):t(new az(e.statusText||`HTTP ${s} error`,s,s+"",r))}else t(new aW(aQ(e),e,r))},a1=(e,t,s,r)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&"HEAD"!==e&&r&&(aH(r)?(i.headers=aZ({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,(null==t?void 0:t.duplex)&&(i.duplex=t.duplex)),aZ(aZ({},i),s)};async function a2(e,t,s,r,i,n,a){return new Promise((o,l)=>{e(s,a1(t,r,i,n)).then(e=>{if(!e.ok)throw e;if(null==r?void 0:r.noResolveJson)return e;if("vectors"===a){let t=e.headers.get("content-type");if("0"===e.headers.get("content-length")||204===e.status||!t||!t.includes("application/json"))return{}}return e.json()}).then(e=>o(e)).catch(e=>a0(e,l,r,a))})}function a4(e="storage"){return{get:async(t,s,r,i)=>a2(t,"GET",s,r,i,void 0,e),post:async(t,s,r,i,n)=>a2(t,"POST",s,i,n,r,e),put:async(t,s,r,i,n)=>a2(t,"PUT",s,i,n,r,e),head:async(t,s,r,i)=>a2(t,"HEAD",s,aZ(aZ({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,s,r,i,n)=>a2(t,"DELETE",s,i,n,r,e)}}let{get:a6,post:a5,put:a8,head:a9,remove:a7}=a4("storage"),a3=a4("vectors");var oe=class{constructor(e,t={},s,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=aK(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){try{return{data:await e(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(aq(e))return{data:null,error:e};throw e}}},ot=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(aq(e))return{data:null,error:e};throw e}}};i=Symbol.toStringTag;var os=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[i]="BlobDownloadBuilder",this.promise=null}asStream(){return new ot(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await (await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(aq(e))return{data:null,error:e};throw e}}};let or={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var on=class extends oe{constructor(e,t={},s,r){super(e,t,r,"storage"),this.bucketId=s}async uploadOrUpdate(e,t,s,r){var i=this;return i.handleOperation(async()=>{let n;let a=aZ(aZ({},oi),r),o=aZ(aZ({},i.headers),"POST"===e&&{"x-upsert":String(a.upsert)}),l=a.metadata;"undefined"!=typeof Blob&&s instanceof Blob?((n=new FormData).append("cacheControl",a.cacheControl),l&&n.append("metadata",i.encodeMetadata(l)),n.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?((n=s).has("cacheControl")||n.append("cacheControl",a.cacheControl),l&&!n.has("metadata")&&n.append("metadata",i.encodeMetadata(l))):(n=s,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),("undefined"!=typeof ReadableStream&&n instanceof ReadableStream||n&&"object"==typeof n&&"pipe"in n&&"function"==typeof n.pipe)&&!a.duplex&&(a.duplex="half")),(null==r?void 0:r.headers)&&(o=aZ(aZ({},o),r.headers));let h=i._removeEmptyFolders(t),u=i._getFinalPath(h),c=await ("PUT"==e?a8:a5)(i.fetch,`${i.url}/object/${u}`,n,aZ({headers:o},(null==a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{path:h,id:c.Id,fullPath:c.Key}})}async upload(e,t,s){return this.uploadOrUpdate("POST",e,t,s)}async uploadToSignedUrl(e,t,s,r){var i=this;let n=i._removeEmptyFolders(e),a=i._getFinalPath(n),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),i.handleOperation(async()=>{let e;let t=aZ({upsert:oi.upsert},r),a=aZ(aZ({},i.headers),{"x-upsert":String(t.upsert)});return"undefined"!=typeof Blob&&s instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(e=s).append("cacheControl",t.cacheControl):(e=s,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType),{path:n,fullPath:(await a8(i.fetch,o.toString(),e,{headers:a})).Key}})}async createSignedUploadUrl(e,t){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(e),i=aZ({},s.headers);(null==t?void 0:t.upsert)&&(i["x-upsert"]="true");let n=await a5(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(s.url+n.url),o=a.searchParams.get("token");if(!o)throw new aF("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,s){return this.uploadOrUpdate("PUT",e,t,s)}async move(e,t,s){var r=this;return r.handleOperation(async()=>await a5(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:r.headers}))}async copy(e,t,s){var r=this;return r.handleOperation(async()=>({path:(await a5(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,s){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),n=await a5(r.fetch,`${r.url}/object/sign/${i}`,aZ({expiresIn:t},(null==s?void 0:s.transform)?{transform:s.transform}:{}),{headers:r.headers}),a=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${n.signedURL}${a}`)}})}async createSignedUrls(e,t,s){var r=this;return r.handleOperation(async()=>{let i=await a5(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),n=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return i.map(e=>aZ(aZ({},e),{},{signedUrl:e.signedURL?encodeURI(`${r.url}${e.signedURL}${n}`):null}))})}download(e,t){let s=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=r?`?${r}`:"",n=this._getFinalPath(e);return new os(()=>a6(this.fetch,`${this.url}/${s}/${n}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;let s=t._getFinalPath(e);return t.handleOperation(async()=>aG(await a6(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})))}async exists(e){let t=this._getFinalPath(e);try{return await a9(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(aq(e)&&e instanceof aW){let t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}}getPublicUrl(e,t){let s=this._getFinalPath(e),r=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&r.push(i);let n=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&r.push(a);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${n}/public/${s}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await a7(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,s){var r=this;return r.handleOperation(async()=>{let i=aZ(aZ(aZ({},or),t),{},{prefix:e||""});return await a5(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},s)})}async listV2(e,t){var s=this;return s.handleOperation(async()=>{let r=aZ({},e);return await a5(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};let oa={"X-Client-Info":"storage-js/2.93.3"};var oo=class extends oe{constructor(e,t={},s,r){let i=new URL(e);(null==r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),super(i.href.replace(/\/$/,""),aZ(aZ({},oa),t),s,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let s=t.listBucketOptionsToQueryString(e);return await a6(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await a6(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var s=this;return s.handleOperation(async()=>await a5(s.fetch,`${s.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async updateBucket(e,t){var s=this;return s.handleOperation(async()=>await a8(s.fetch,`${s.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await a5(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await a7(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ol=class extends oe{constructor(e,t={},s){super(e.replace(/\/$/,""),aZ(aZ({},oa),t),s,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await a5(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let s=new URLSearchParams;(null==e?void 0:e.limit)!==void 0&&s.set("limit",e.limit.toString()),(null==e?void 0:e.offset)!==void 0&&s.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&s.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&s.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&s.set("search",e.search);let r=s.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await a6(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await a7(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!aJ(e))throw new aF("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let s=new aB({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(e,t){let s=e[t];return"function"!=typeof s?s:async(...t)=>{try{return{data:await s.apply(e,t),error:null}}catch(e){if(r)throw e;return{data:null,error:e}}}}})}},oh=class extends oe{constructor(e,t={},s){super(e.replace(/\/$/,""),aZ(aZ({},oa),{},{"Content-Type":"application/json"},t),s,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var s=this;return s.handleOperation(async()=>await a3.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:s.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var s=this;return s.handleOperation(async()=>await a3.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:s.headers})||{})}},ou=class extends oe{constructor(e,t={},s){super(e.replace(/\/$/,""),aZ(aZ({},oa),{},{"Content-Type":"application/json"},t),s,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},oc=class extends oe{constructor(e,t={},s){super(e.replace(/\/$/,""),aZ(aZ({},oa),{},{"Content-Type":"application/json"},t),s,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await a3.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},od=class extends oc{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new op(this.url,this.headers,e,this.fetch)}async createBucket(e){return super.createBucket.call(this,e)}async getBucket(e){return super.getBucket.call(this,e)}async listBuckets(e={}){return super.listBuckets.call(this,e)}async deleteBucket(e){return super.deleteBucket.call(this,e)}},op=class extends oh{constructor(e,t,s,r){super(e,t,r),this.vectorBucketName=s}async createIndex(e){return super.createIndex.call(this,aZ(aZ({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(e={}){return super.listIndexes.call(this,aZ(aZ({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return super.getIndex.call(this,this.vectorBucketName,e)}async deleteIndex(e){return super.deleteIndex.call(this,this.vectorBucketName,e)}index(e){return new of(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},of=class extends ou{constructor(e,t,s,r,i){super(e,t,i),this.vectorBucketName=s,this.indexName=r}async putVectors(e){return super.putVectors.call(this,aZ(aZ({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async getVectors(e){return super.getVectors.call(this,aZ(aZ({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async listVectors(e={}){return super.listVectors.call(this,aZ(aZ({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async queryVectors(e){return super.queryVectors.call(this,aZ(aZ({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async deleteVectors(e){return super.deleteVectors.call(this,aZ(aZ({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}},om=class extends oo{constructor(e,t={},s,r){super(e,t,s,r)}from(e){return new on(this.url,this.headers,e,this.fetch)}get vectors(){return new od(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ol(this.url+"/iceberg",this.headers,this.fetch)}};let og="2.93.3",oy={"X-Client-Info":`gotrue-js/${og}`},ov="X-Supabase-Api-Version",ob={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ow=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ox extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function o_(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class ok extends ox{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}class oS extends ox{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class oj extends ox{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class oT extends oj{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oE(e){return o_(e)&&"AuthSessionMissingError"===e.name}class oA extends oj{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oP extends oj{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class oR extends oj{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oO extends oj{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oC extends oj{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class oN extends oj{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function oI(e){return o_(e)&&"AuthRetryableFetchError"===e.name}class o$ extends oj{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class oD extends oj{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let oU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oM=" 	\n\r=".split(""),oL=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<oM.length;t+=1)e[oM[t].charCodeAt(0)]=-2;for(let t=0;t<oU.length;t+=1)e[oU[t].charCodeAt(0)]=t;return e})();function oV(e,t,s){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)s(oU[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)s(oU[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function oB(e,t,s){let r=oL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===r)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function oF(e){let t=[],s=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=e=>{(function(e,t,s){if(0===t.utf8seq){if(e<=127){s(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)==0){t.utf8seq=s;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&s(t.codepoint)}})(e,r,s)};for(let t=0;t<e.length;t+=1)oB(e.charCodeAt(t),i,n);return t.join("")}function oq(e){let t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)oB(e.charCodeAt(t),s,r);return new Uint8Array(t)}function oz(e){let t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>oV(e,s,r)),oV(null,s,r),t.join("")}let oW=()=>"undefined"!=typeof window&&"undefined"!=typeof document,oK={tested:!1,writable:!1},oH=()=>{if(!oW())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(oK.tested)return oK.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oK.tested=!0,oK.writable=!0}catch(e){oK.tested=!0,oK.writable=!1}return oK.writable},oG=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),oJ=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,oY=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},oX=async(e,t)=>{let s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch(e){return s}},oZ=async(e,t)=>{await e.removeItem(t)};class oQ{constructor(){this.promise=new oQ.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function o0(e){let t=e.split(".");if(3!==t.length)throw new oD("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!ow.test(t[e]))throw new oD("JWT not in base64url format");return{header:JSON.parse(oF(t[0])),payload:JSON.parse(oF(t[1])),signature:oq(t[2]),raw:{header:t[0],payload:t[1]}}}async function o1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function o2(e){return("0"+e.toString(16)).substr(-2)}async function o4(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function o6(e){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder?btoa(await o4(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e)}async function o5(e,t,s=!1){let r=function(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,s="";for(let r=0;r<56;r++)s+=e.charAt(Math.floor(Math.random()*t));return s}return crypto.getRandomValues(e),Array.from(e,o2).join("")}(),i=r;s&&(i+="/PASSWORD_RECOVERY"),await oY(e,`${t}-code-verifier`,i);let n=await o6(r),a=r===n?"plain":"s256";return[n,a]}oQ.promiseConstructor=Promise;let o8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,o9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function o7(e){if(!o9.test(e))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function o3(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){let e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function le(e){return JSON.parse(JSON.stringify(e))}let lt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ls=[502,503,504];async function lr(e){var t;let s,r;if(!oJ(e))throw new oN(lt(e),0);if(ls.includes(e.status))throw new oN(lt(e),e.status);try{s=await e.json()}catch(e){throw new oS(lt(e),e)}let i=function(e){let t=e.headers.get(ov);if(!t||!t.match(o8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(i&&i.getTime()>=ob["2024-01-01"].timestamp&&"object"==typeof s&&s&&"string"==typeof s.code?r=s.code:"object"==typeof s&&s&&"string"==typeof s.error_code&&(r=s.error_code),r){if("weak_password"===r)throw new o$(lt(s),e.status,(null===(t=s.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===r)throw new oT}else if("object"==typeof s&&s&&"object"==typeof s.weak_password&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new o$(lt(s),e.status,s.weak_password.reasons);throw new ok(lt(s),e.status||500,r)}let li=(e,t,s,r)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function ln(e,t,s,r){var i;let n=Object.assign({},null==r?void 0:r.headers);n[ov]||(n[ov]=ob["2024-01-01"].name),(null==r?void 0:r.jwt)&&(n.Authorization=`Bearer ${r.jwt}`);let a=null!==(i=null==r?void 0:r.query)&&void 0!==i?i:{};(null==r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);let o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await la(e,t,s+o,{headers:n,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function la(e,t,s,r,i,n){let a;let o=li(t,r,i,n);try{a=await e(s,Object.assign({},o))}catch(e){throw console.error(e),new oN(lt(e),0)}if(a.ok||await lr(a),null==r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(e){await lr(e)}}function lo(e){var t,s;let r=null;return e.access_token&&e.refresh_token&&e.expires_in&&(r=Object.assign({},e),!e.expires_at)&&(r.expires_at=(s=e.expires_in,Math.round(Date.now()/1e3)+s)),{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ll(e){let t=lo(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function lh(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function lu(e){return{data:e,error:null}}function lc(e){let{action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n}=e;return{data:{properties:{action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n},user:Object.assign({},n3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function ld(e){return e}let lp=["global","local","others"];class lf{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=oG(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=lp[0]){if(0>lp.indexOf(t))throw Error(`@supabase/auth-js: Parameter scope must be one of ${lp.join(", ")}`);try{return await ln(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(o_(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await ln(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:lh})}catch(e){if(o_(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,s=n3(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=null==s?void 0:s.newEmail,delete r.newEmail),await ln(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:lc,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(o_(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await ln(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:lh})}catch(e){if(o_(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,s,r,i,n,a,o;try{let l={nextPage:null,lastPage:0,total:0},h=await ln(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(i=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:ld});if(h.error)throw h.error;let u=await h.json(),c=null!==(n=h.headers.get("x-total-count"))&&void 0!==n?n:0,d=null!==(o=null===(a=h.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l[`${s}Page`]=t}),l.total=parseInt(c)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(e){if(o_(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){o7(e);try{return await ln(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:lh})}catch(e){if(o_(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){o7(e);try{return await ln(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:lh})}catch(e){if(o_(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){o7(e);try{return await ln(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:lh})}catch(e){if(o_(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){o7(e.userId);try{let{data:t,error:s}=await ln(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:s}}catch(e){if(o_(e))return{data:null,error:e};throw e}}async _deleteFactor(e){o7(e.userId),o7(e.id);try{return{data:await ln(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(o_(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){var t,s,r,i,n,a,o;try{let l={nextPage:null,lastPage:0,total:0},h=await ln(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(i=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:ld});if(h.error)throw h.error;let u=await h.json(),c=null!==(n=h.headers.get("x-total-count"))&&void 0!==n?n:0,d=null!==(o=null===(a=h.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l[`${s}Page`]=t}),l.total=parseInt(c)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(e){if(o_(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await ln(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(o_(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await ln(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(o_(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await ln(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(o_(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await ln(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(o_(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await ln(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(o_(e))return{data:null,error:e};throw e}}}function lm(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}let lg={debug:!!(globalThis&&oH()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class ly extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lv extends ly{}async function lb(e,t,s){lg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),lg.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(r){lg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await s()}finally{lg.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(0===t)throw lg.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(lg.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function lw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}class lx extends Error{constructor({message:e,code:t,cause:s,name:r}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=null!==(i=null!=r?r:s instanceof Error?s.name:void 0)&&void 0!==i?i:"Unknown Error",this.code=t}}class l_ extends lx{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}class lk{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}let lS=new lk;function lj(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function lT(){var e,t;return!!(oW()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null==navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null==navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}async function lE(e){try{let t=await navigator.credentials.create(e);if(!t)return{data:null,error:new l_("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new l_("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){var s,r,i;let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new lx({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if((null===(s=n.authenticatorSelection)||void 0===s?void 0:s.requireResidentKey)===!0)return new lx({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&(null===(r=n.authenticatorSelection)||void 0===r?void 0:r.userVerification)==="required")return new lx({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if((null===(i=n.authenticatorSelection)||void 0===i?void 0:i.userVerification)==="required")return new lx({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else if("InvalidStateError"===e.name)return new lx({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});else if("NotAllowedError"===e.name)return new lx({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("NotSupportedError"===e.name)return new lx(0===n.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!lj(t))return new lx({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rp.id!==t)return new lx({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new lx({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new lx({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new lx({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}async function lA(e){try{let t=await navigator.credentials.get(e);if(!t)return{data:null,error:new l_("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new l_("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){let{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new lx({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("NotAllowedError"===e.name)return new lx({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!lj(t))return new lx({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(s.rpId!==t)return new lx({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new lx({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new lx({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}let lP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lO(...e){let t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),s=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(let i of e)if(i)for(let e in i){let n=i[e];if(void 0!==n){if(Array.isArray(n))r[e]=n;else if(s(n))r[e]=n;else if(t(n)){let s=r[e];t(s)?r[e]=lO(s,n):r[e]=lO(n)}else r[e]=n}}return r}class lC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:r},i){var n,a,o,l,h;try{let{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:c};let d=null!=r?r:lS.createNewAbortSignal();if("create"===u.webauthn.type){let{user:e}=u.webauthn.credential_options.publicKey;if(!e.name){if(s)e.name=`${e.id}:${s}`;else{let t=(await this.client.getUser()).data.user,s=(null===(n=null==t?void 0:t.user_metadata)||void 0===n?void 0:n.name)||(null==t?void 0:t.email)||(null==t?void 0:t.id)||"User";e.name=`${e.id}:${s}`}}e.displayName||(e.displayName=e.name)}switch(u.webauthn.type){case"create":{let t=(a=u.webauthn.credential_options.publicKey,o=null==i?void 0:i.create,lO(lP,a,o||{})),{data:s,error:r}=await lE({publicKey:t,signal:d});if(s)return{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:s}},error:null};return{data:null,error:r}}case"request":{let t=(l=u.webauthn.credential_options.publicKey,h=null==i?void 0:i.request,lO(lR,l,h||{})),{data:s,error:r}=await lA(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:t,signal:d}));if(s)return{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:s}},error:null};return{data:null,error:r}}}}catch(e){if(o_(e))return{data:null,error:e};return{data:null,error:new oS("Unexpected error in challenge",e)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:s="undefined"!=typeof window?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new ox("rpId is required for WebAuthn authentication")};try{if(!lT())return{data:null,error:new oS("Browser does not support WebAuthn",null)};let{data:n,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:r},{request:i});if(!n)return{data:null,error:a};let{webauthn:o}=n;return this._verify({factorId:e,challengeId:n.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:s,credential_response:o.credential_response}})}catch(e){if(o_(e))return{data:null,error:e};return{data:null,error:new oS("Unexpected error in authenticate",e)}}}async _register({friendlyName:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:s="undefined"!=typeof window?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new ox("rpId is required for WebAuthn registration")};try{if(!lT())return{data:null,error:new oS("Browser does not support WebAuthn",null)};let{data:n,error:a}=await this._enroll({friendlyName:e});if(!n)return await this.client.mfa.listFactors().then(t=>{var s;return null===(s=t.data)||void 0===s?void 0:s.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:a};let{data:o,error:l}=await this._challenge({factorId:n.id,friendlyName:n.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:r},{create:i});if(!o)return{data:null,error:l};return this._verify({factorId:n.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:s,type:o.webauthn.type,credential_response:o.webauthn.credential_response}})}catch(e){if(o_(e))return{data:null,error:e};return{data:null,error:new oS("Unexpected error in register",e)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let lN={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function lI(e,t,s){return await s()}let l$={};class lD{get jwks(){var e,t;return null!==(t=null===(e=l$[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){l$[this.storageKey]=Object.assign(Object.assign({},l$[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=l$[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){l$[this.storageKey]=Object.assign(Object.assign({},l$[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let i=Object.assign(Object.assign({},lN),e);if(this.storageKey=i.storageKey,this.instanceID=null!==(t=lD.nextInstanceID[this.storageKey])&&void 0!==t?t:0,lD.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,"function"==typeof i.debug&&(this.logger=i.debug),this.instanceID>0&&oW()){let e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new lf({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=oG(i.fetch),this.lock=i.lock||lI,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&oW()&&(null===(s=null==globalThis?void 0:globalThis.navigator)||void 0===s?void 0:s.locks)?this.lock=lb:this.lock=lI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:oH()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=lm(this.memoryStorage)),oW()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(e){this._debug("#broadcastChannel","error",e)}})}this.initialize().catch(e=>{this._debug("#initialize()","error",e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${og}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},s="none";if(oW()&&(t=function(e){let t={},s=new URL(e);if(s.hash&&"#"===s.hash[0])try{new URLSearchParams(s.hash.substring(1)).forEach((e,s)=>{t[s]=e})}catch(e){}return s.searchParams.forEach((e,s)=>{t[s]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),oW()&&this.detectSessionInUrl&&"none"!==s){let{data:r,error:i}=await this._getSessionFromURL(t,s);if(i)return this._debug("#_initialize()","error detecting session from URL",i),o_(i)&&"AuthImplicitGrantRedirectError"===i.name&&(null===(e=i.details)||void 0===e||e.code),{error:i};let{session:n,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",n,"redirect type",a),await this._saveSession(n),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(o_(e))return this._returnResult({error:e});return this._returnResult({error:new oS("Unexpected error during initialization",e)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{let{data:i,error:n}=await ln(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(s=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==s?s:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:lo});if(n||!i)return this._returnResult({data:{user:null,session:null},error:n});let a=i.session,o=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),this._returnResult({data:{user:o,session:a},error:null})}catch(e){if(o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){var t,s,r;try{let i;if("email"in e){let{email:s,password:r,options:n}=e,a=null,o=null;"pkce"===this.flowType&&([a,o]=await o5(this.storage,this.storageKey)),i=await ln(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:{email:s,password:r,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:a,code_challenge_method:o},xform:lo})}else if("phone"in e){let{phone:t,password:n,options:a}=e;i=await ln(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!==(s=null==a?void 0:a.data)&&void 0!==s?s:{},channel:null!==(r=null==a?void 0:a.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:lo})}else throw new oP("You must provide either an email or phone number and a password");let{data:n,error:a}=i;if(a||!n)return await oZ(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});let o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(e){if(await oZ(this.storage,`${this.storageKey}-code-verifier`),o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:s,password:r,options:i}=e;t=await ln(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:ll})}else if("phone"in e){let{phone:s,password:r,options:i}=e;t=await ln(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:ll})}else throw new oP("You must provide either an email or phone number and a password");let{data:s,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!s||!s.session||!s.user){let e=new oA;return this._returnResult({data:{user:null,session:null},error:e})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(e){if(o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){var t,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,r,i,n,a,o,l,h,u,c,d;let p,f;if("message"in e)p=e.message,f=e.signature;else{let u;let{chain:c,wallet:m,statement:g,options:y}=e;if(oW()){if("object"==typeof m)u=m;else{let e=window;if("ethereum"in e&&"object"==typeof e.ethereum&&"request"in e.ethereum&&"function"==typeof e.ethereum.request)u=e.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}}else{if("object"!=typeof m||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");u=m}let v=new URL(null!==(t=null==y?void 0:y.url)&&void 0!==t?t:window.location.href),b=await u.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||0===b.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let w=lw(b[0]),x=null===(s=null==y?void 0:y.signInWithEthereum)||void 0===s?void 0:s.chainId;x||(x=parseInt(await u.request({method:"eth_chainId"}),16)),p=function(e){var t;let{chainId:s,domain:r,expirationTime:i,issuedAt:n=new Date,nonce:a,notBefore:o,requestId:l,resources:h,scheme:u,uri:c,version:d}=e;if(!Number.isInteger(s))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!c)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==d)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let p=lw(e.address),f=u?`${u}://${r}`:r,m=e.statement?`${e.statement}
`:"",g=`${f} wants you to sign in with your Ethereum account:
${p}

${m}`,y=`URI: ${c}
Version: ${d}
Chain ID: ${s}${a?`
Nonce: ${a}`:""}
Issued At: ${n.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),h){let e="\nResources:";for(let t of h){if(!t||"string"!=typeof t)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`
- ${t}`}y+=e}return`${g}
${y}`}({domain:v.host,address:w,statement:g,uri:v.href,version:"1",chainId:x,nonce:null===(r=null==y?void 0:y.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(n=null===(i=null==y?void 0:y.signInWithEthereum)||void 0===i?void 0:i.issuedAt)&&void 0!==n?n:new Date,expirationTime:null===(a=null==y?void 0:y.signInWithEthereum)||void 0===a?void 0:a.expirationTime,notBefore:null===(o=null==y?void 0:y.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==y?void 0:y.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(h=null==y?void 0:y.signInWithEthereum)||void 0===h?void 0:h.resources}),f=await u.request({method:"personal_sign",params:[(d=p,"0x"+Array.from(new TextEncoder().encode(d),e=>e.toString(16).padStart(2,"0")).join("")),w]})}try{let{data:t,error:s}=await ln(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:f},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(c=e.options)||void 0===c?void 0:c.captchaToken}}:null),xform:lo});if(s)throw s;if(!t||!t.session||!t.user){let e=new oA;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:s})}catch(e){if(o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){var t,s,r,i,n,a,o,l,h,u,c,d;let p,f;if("message"in e)p=e.message,f=e.signature;else{let c;let{chain:d,wallet:m,statement:g,options:y}=e;if(oW()){if("object"==typeof m)c=m;else{let e=window;if("solana"in e&&"object"==typeof e.solana&&("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))c=e.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}}else{if("object"!=typeof m||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");c=m}let v=new URL(null!==(t=null==y?void 0:y.url)&&void 0!==t?t:window.location.href);if("signIn"in c&&c.signIn){let e;let t=await c.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==y?void 0:y.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),g?{statement:g}:null));if(Array.isArray(t)&&t[0]&&"object"==typeof t[0])e=t[0];else if(t&&"object"==typeof t&&"signedMessage"in t&&"signature"in t)e=t;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in e&&"signature"in e&&("string"==typeof e.signedMessage||e.signedMessage instanceof Uint8Array)&&e.signature instanceof Uint8Array)p="string"==typeof e.signedMessage?e.signedMessage:new TextDecoder().decode(e.signedMessage),f=e.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in c)||"function"!=typeof c.signMessage||!("publicKey"in c)||"object"!=typeof c||!c.publicKey||!("toBase58"in c.publicKey)||"function"!=typeof c.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${v.host} wants you to sign in with your Solana account:`,c.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(r=null===(s=null==y?void 0:y.signInWithSolana)||void 0===s?void 0:s.issuedAt)&&void 0!==r?r:new Date().toISOString()}`,...(null===(i=null==y?void 0:y.signInWithSolana)||void 0===i?void 0:i.notBefore)?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...(null===(n=null==y?void 0:y.signInWithSolana)||void 0===n?void 0:n.expirationTime)?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...(null===(a=null==y?void 0:y.signInWithSolana)||void 0===a?void 0:a.chainId)?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...(null===(o=null==y?void 0:y.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...(null===(l=null==y?void 0:y.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...(null===(u=null===(h=null==y?void 0:y.signInWithSolana)||void 0===h?void 0:h.resources)||void 0===u?void 0:u.length)?["Resources",...y.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");let e=await c.signMessage(new TextEncoder().encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{let{data:t,error:s}=await ln(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:oz(f)},(null===(c=e.options)||void 0===c?void 0:c.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:lo});if(s)throw s;if(!t||!t.session||!t.user){let e=new oA;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:s})}catch(e){if(o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let t=await oX(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(null!=t?t:"").split("/");try{if(!s&&"pkce"===this.flowType)throw new oC;let{data:t,error:i}=await ln(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:lo});if(await oZ(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!t||!t.session||!t.user){let e=new oA;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:i})}catch(e){if(await oZ(this.storage,`${this.storageKey}-code-verifier`),o_(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:s,token:r,access_token:i,nonce:n}=e,{data:a,error:o}=await ln(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:lo});if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){let e=new oA;return this._returnResult({data:{user:null,session:null},error:e})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:a,error:o})}catch(e){if(o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){var t,s,r,i,n;try{if("email"in e){let{email:r,options:i}=e,n=null,a=null;"pkce"===this.flowType&&([n,a]=await o5(this.storage,this.storageKey));let{error:o}=await ln(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(s=null==i?void 0:i.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:n,code_challenge_method:a},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){let{phone:t,options:s}=e,{data:a,error:o}=await ln(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==s?void 0:s.data)&&void 0!==r?r:{},create_user:null===(i=null==s?void 0:s.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},channel:null!==(n=null==s?void 0:s.channel)&&void 0!==n?n:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o})}throw new oP("You must provide either an email or phone number.")}catch(e){if(await oZ(this.storage,`${this.storageKey}-code-verifier`),o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){var t,s;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(s=e.options)||void 0===s?void 0:s.captchaToken);let{data:n,error:a}=await ln(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:lo});if(a)throw a;if(!n)throw Error("An error occurred on token verification.");let o=n.session,l=n.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(e){if(o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){var t,s,r,i,n;try{let a=null,o=null;"pkce"===this.flowType&&([a,o]=await o5(this.storage,this.storageKey));let l=await ln(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==s?s:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:lu});return(null===(i=l.data)||void 0===i?void 0:i.url)&&oW()&&!(null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(e){if(await oZ(this.storage,`${this.storageKey}-code-verifier`),o_(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new oT;let{error:r}=await ln(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:s,type:r,options:i}=e,{error:n}=await ln(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:n})}if("phone"in e){let{phone:s,type:r,options:i}=e,{data:n,error:a}=await ln(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:a})}throw new oP("You must provide either an email or phone number and a type")}catch(e){if(o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch(e){}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let t=null,s=await oX(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),null!==s&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let r=!!t.expires_at&&1e3*t.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){let e=await oX(this.userStorage,this.storageKey+"-user");(null==e?void 0:e.user)?t.user=e.user:t.user=o3()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){var e;let s={value:this.suppressGetSessionWarning};t.user=(e=t.user,new Proxy(e,{get:(e,t,r)=>{if("__isInsecureUserWarningProxy"===t)return!0;if("symbol"==typeof t){let s=t.toString();if("Symbol(Symbol.toPrimitive)"===s||"Symbol(Symbol.toStringTag)"===s||"Symbol(util.inspect.custom)"===s||"Symbol(nodejs.util.inspect.custom)"===s)return Reflect.get(e,t,r)}return s.value||"string"!=typeof t||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(e,t,r)}})),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:i,error:n}=await this._callRefreshToken(t.refresh_token);if(n)return this._returnResult({data:{session:null},error:n});return this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{if(e)return await ln(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:lh});return await this._useSession(async e=>{var t,s,r;let{data:i,error:n}=e;if(n)throw n;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ln(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(s=i.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0,xform:lh}):{data:{user:null},error:new oT}})}catch(e){if(o_(e))return oE(e)&&(await this._removeSession(),await oZ(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{let{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new oT;let n=r.session,a=null,o=null;"pkce"===this.flowType&&null!=e.email&&([a,o]=await o5(this.storage,this.storageKey));let{data:l,error:h}=await ln(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:n.access_token,xform:lh});if(h)throw h;return n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("USER_UPDATED",n),this._returnResult({data:{user:n.user},error:null})})}catch(e){if(await oZ(this.storage,`${this.storageKey}-code-verifier`),o_(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new oT;let t=Date.now()/1e3,s=t,r=!0,i=null,{payload:n}=o0(e.access_token);if(n.exp&&(r=(s=n.exp)<=t),r){let{data:t,error:s}=await this._callRefreshToken(e.refresh_token);if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:r,error:n}=await this._getUser(e.access_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(e){if(o_(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){let{data:r,error:i}=t;if(i)throw i;e=null!==(s=r.session)&&void 0!==s?s:void 0}if(!(null==e?void 0:e.refresh_token))throw new oT;let{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!oW())throw new oR("No browser detected.");if(e.error||e.error_description||e.error_code)throw new oR(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new oO("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new oR("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new oO("No code detected.");let{data:t,error:s}=await this._exchangeCodeForSession(e.code);if(s)throw s;let r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:n,expires_in:a,expires_at:o,token_type:l}=e;if(!i||!a||!n||!l)throw new oR("No session defined in URL");let h=Math.round(Date.now()/1e3),u=parseInt(a),c=h+u;o&&(c=parseInt(o));let d=c-h;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${u}s`);let p=c-u;h-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,c,h):h-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,c,h);let{data:f,error:m}=await this._getUser(i);if(m)throw m;let g={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:c,refresh_token:n,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(e){if(o_(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await oX(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;let{data:r,error:i}=t;if(i&&!oE(i))return this._returnResult({error:i});let n=null===(s=r.session)||void 0===s?void 0:s.access_token;if(n){let{error:t}=await this.admin.signOut(n,e);if(t&&!(o_(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)||oE(t)))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await oZ(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=Symbol("auth-callback"),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{let{data:{session:r},error:i}=t;if(i)throw i;await (null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(t){await (null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;"pkce"===this.flowType&&([s,r]=await o5(this.storage,this.storageKey,!0));try{return await ln(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(await oZ(this.storage,`${this.storageKey}-code-verifier`),o_(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){var e;try{let{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{let{data:s,error:r}=await this._useSession(async t=>{var s,r,i,n,a;let{data:o,error:l}=t;if(l)throw l;let h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(s=e.options)||void 0===s?void 0:s.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await ln(this.fetch,"GET",h,{headers:this.headers,jwt:null!==(a=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==a?a:void 0})});if(r)throw r;return!oW()||(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)||window.location.assign(null==s?void 0:s.url),this._returnResult({data:{provider:e.provider,url:null==s?void 0:s.url},error:null})}catch(t){if(o_(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{let{error:r,data:{session:i}}=t;if(r)throw r;let{options:n,provider:a,token:o,access_token:l,nonce:h}=e,{data:u,error:c}=await ln(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(s=null==i?void 0:i.access_token)&&void 0!==s?s:void 0,body:{provider:a,id_token:o,access_token:l,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:lo});if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user)return this._returnResult({data:{user:null,session:null},error:new oA});return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:c})}catch(e){if(await oZ(this.storage,`${this.storageKey}-code-verifier`),o_(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;let{data:i,error:n}=t;if(n)throw n;return await ln(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(s=i.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0})})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var s,r;let i=Date.now();return await (s=async s=>(s>0&&await o1(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await ln(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lo})),r=(e,t)=>t&&oI(t)&&Date.now()+200*Math.pow(2,e)-i<3e4,new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{let t=await s(i);if(!r(i,null,t)){e(t);return}}catch(e){if(!r(i,e)){t(e);return}}})()}))}catch(e){if(this._debug(t,"error",e),o_(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),oW()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;let s="#_recoverAndRefresh()";this._debug(s,"begin");try{let r=await oX(this.storage,this.storageKey);if(r&&this.userStorage){let t=await oX(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:r.user},await oY(this.userStorage,this.storageKey+"-user",t)),r.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:o3()}else if(r&&!r.user&&!r.user){let e=await oX(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(r.user=e.user,await oZ(this.storage,this.storageKey+"-user"),await oY(this.storage,this.storageKey,r)):r.user=o3()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),null!==r&&await this._removeSession();return}let i=(null!==(t=r.expires_at)&&void 0!==t?t:1/0)*1e3-Date.now()<9e4;if(this._debug(s,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&r.refresh_token){let{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),oI(e)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(r.user&&!0===r.user.__isUserNotAvailableProxy)try{let{data:e,error:t}=await this._getUser(r.access_token);!t&&(null==e?void 0:e.user)?(r.user=e.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(s,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){this._debug(s,"error",e),console.error(e);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new oT;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new oQ;let{data:t,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!t.session)throw new oT;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,"error",e),o_(e)){let s={data:null,error:e};return oI(e)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(s),s}throw null===(s=this.refreshingDeferred)||void 0===s||s.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});let r=[],i=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,t)}catch(e){r.push(e)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await oZ(this.storage,`${this.storageKey}-code-verifier`);let t=Object.assign({},e),s=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!s&&t.user&&await oY(this.userStorage,this.storageKey+"-user",{user:t.user});let e=Object.assign({},t);delete e.user;let r=le(e);await oY(this.storage,this.storageKey,r)}else{let e=le(t);await oY(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await oZ(this.storage,this.storageKey),await oZ(this.storage,this.storageKey+"-code-verifier"),await oZ(this.storage,this.storageKey+"-user"),this.userStorage&&await oZ(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&oW()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e);let t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);let t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let r=Math.floor((1e3*s.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(s.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ly)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!oW()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if("visible"!==document.visibilityState){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){let r=[`provider=${encodeURIComponent(t)}`];if((null==s?void 0:s.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),(null==s?void 0:s.scopes)&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),"pkce"===this.flowType){let[e,t]=await o5(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(s.toString())}if(null==s?void 0:s.queryParams){let e=new URLSearchParams(s.queryParams);r.push(e.toString())}return(null==s?void 0:s.skipBrowserRedirect)&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;let{data:r,error:i}=t;return i?this._returnResult({data:null,error:i}):await ln(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token})})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;let{data:i,error:n}=t;if(n)return this._returnResult({data:null,error:n});let a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await ln(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(s=null==i?void 0:i.session)||void 0===s?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var s,r,i;let{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});let o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?(r=e.webauthn.credential_response,"toJSON"in r&&"function"==typeof r.toJSON?r.toJSON():{id:r.id,rawId:r.id,response:{attestationObject:oz(new Uint8Array(r.response.attestationObject)),clientDataJSON:oz(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:null!==(i=r.authenticatorAttachment)&&void 0!==i?i:void 0}):function(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();let s=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oz(new Uint8Array(r.authenticatorData)),clientDataJSON:oz(new Uint8Array(r.clientDataJSON)),signature:oz(new Uint8Array(r.signature)),userHandle:r.userHandle?oz(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:null!==(t=e.authenticatorAttachment)&&void 0!==t?t:void 0}}(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:h}=await ln(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:null===(s=null==n?void 0:n.session)||void 0===s?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:h}))})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var s;let{data:r,error:i}=t;if(i)return this._returnResult({data:null,error:i});let n=await ln(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token});if(n.error)return n;let{data:a}=n;if("webauthn"!==a.type)return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:s,excludeCredentials:r}=e,i=n3(e,["challenge","user","excludeCredentials"]),n=oq(t).buffer,a=Object.assign(Object.assign({},s),{id:oq(s.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:n,user:a});if(r&&r.length>0){o.excludeCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:oq(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:s}=e,r=n3(e,["challenge","allowCredentials"]),i=oq(t).buffer,n=Object.assign(Object.assign({},r),{challenge:i});if(s&&s.length>0){n.allowCredentials=Array(s.length);for(let e=0;e<s.length;e++){let t=s[e];n.allowCredentials[e]=Object.assign(Object.assign({},t),{id:oq(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return n}(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;let{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};let r={all:[],phone:[],totp:[],webauthn:[]};for(let s of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(s),"verified"===s.status&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,s,r,i;if(e)try{let{payload:r}=o0(e),i=null;r.aal&&(i=r.aal);let n=i,{data:{user:a},error:o}=await this.getUser(e);if(o)return this._returnResult({data:null,error:o});(null!==(s=null===(t=null==a?void 0:a.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==s?s:[]).length>0&&(n="aal2");let l=r.amr||[];return{data:{currentLevel:i,nextLevel:n,currentAuthenticationMethods:l},error:null}}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}let{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:o}=o0(n.access_token),l=null;o.aal&&(l=o.aal);let h=l;return(null!==(i=null===(r=n.user.factors)||void 0===r?void 0:r.filter(e=>"verified"===e.status))&&void 0!==i?i:[]).length>0&&(h="aal2"),{data:{currentLevel:l,nextLevel:h,currentAuthenticationMethods:o.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await ln(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new oT})})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{let{data:{session:r},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new oT});let n=await ln(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return n.data&&n.data.redirect_url&&oW()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(n.data.redirect_url),n})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{let{data:{session:r},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new oT});let n=await ln(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return n.data&&n.data.redirect_url&&oW()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(n.data.redirect_url),n})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:s}=e;return s?this._returnResult({data:null,error:s}):t?await ln(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new oT})})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?(await ln(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new oT})})}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(t=>t.kid===e);if(s)return s;let r=Date.now();if((s=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>r)return s;let{data:i,error:n}=await ln(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;return i.keys&&0!==i.keys.length&&(this.jwks=i,this.jwks_cached_at=r,s=i.keys.find(t=>t.kid===e))?s:null}async getClaims(e,t={}){try{let s=e;if(!s){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});s=e.session.access_token}let{header:r,payload:i,signature:n,raw:{header:a,payload:o}}=o0(s);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(i.exp);let l=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks);if(!l){let{error:e}=await this.getUser(s);if(e)throw e;return{data:{claims:i,header:r,signature:n},error:null}}let h=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,h,!0,["verify"]);if(!await crypto.subtle.verify(h,u,n,function(e){let t=[];return function(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){let t=(r-55296)*1024&65535;r=(e.charCodeAt(s+1)-56320&65535|t)+65536,s+=1}!function(e,t){if(e<=127){t(e);return}if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}(`${a}.${o}`)))throw new oD("Invalid JWT signature");return{data:{claims:i,header:r,signature:n},error:null}}catch(e){if(o_(e))return this._returnResult({data:null,error:e});throw e}}}lD.nextInstanceID={};let lU=lD,lM="";"undefined"!=typeof Deno?lM="deno":"undefined"!=typeof document?lM="web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?lM="react-native":lM="node";let lL={headers:{"X-Client-Info":`supabase-js-${lM}/2.93.3`}},lV={schema:"public"},lB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lF={};function lq(e){return(lq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lz(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function lW(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?lz(Object(s),!0).forEach(function(t){!function(e,t,s){var r;(r=function(e,t){if("object"!=lq(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=lq(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==lq(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lz(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let lK=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),lH=()=>Headers,lG=(e,t,s)=>{let r=lK(s),i=lH();return async(s,n)=>{var a;let o=null!==(a=await t())&&void 0!==a?a:e,l=new i(null==n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(s,lW(lW({},n),{},{headers:l}))}};var lJ=class extends lU{constructor(e){super(e)}},lY=class{constructor(e,t,s){var r,i,n;this.supabaseUrl=e,this.supabaseKey=t;let a=function(e){let t=null==e?void 0:e.trim();if(!t)throw Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t.endsWith("/")?t:t+"/")}catch(e){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!t)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let o=`sb-${a.hostname.split(".")[0]}-auth-token`,l=function(e,t){var s,r;let{db:i,auth:n,realtime:a,global:o}=e,{db:l,auth:h,realtime:u,global:c}=t,d={db:lW(lW({},l),i),auth:lW(lW({},h),n),realtime:lW(lW({},u),a),storage:{},global:lW(lW(lW({},c),o),{},{headers:lW(lW({},null!==(s=null==c?void 0:c.headers)&&void 0!==s?s:{}),null!==(r=null==o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=s?s:{},{db:lV,realtime:lF,auth:lW(lW({},lB),{},{storageKey:o}),global:lL});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=l.global.headers)&&void 0!==i?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(n=l.auth)&&void 0!==n?n:{},this.headers,l.global.fetch),this.fetch=lG(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(lW({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new ad(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new om(this.storageUrl.href,this.headers,this.fetch,null==s?void 0:s.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new an(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();let{data:s}=await this.auth.getSession();return null!==(e=null===(t=s.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:i,storageKey:n,flowType:a,lock:o,debug:l,throwOnError:h},u,c){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lJ({url:this.authUrl.href,headers:lW(lW({},d),u),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:h,fetch:c,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new aI(this.realtimeUrl.href,lW(lW({},e),{},{params:lW(lW({},{apikey:this.supabaseKey}),null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,s){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}};(function(){if("undefined"!=typeof window)return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(null==t)return!1;let s=t.match(/^v(\d+)\./);return!!s&&18>=parseInt(s[1],10)})()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let lX="https://oemxzmnvvjiukejxktby.supabase.co",lZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9lbXh6bW52dmppdWtlanhrdGJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4MzgzMDMsImV4cCI6MjA4NTQxNDMwM30.fFYWXgpjaJYJhgSK_8mfX30s14kEJ0g8F_e00tFIh6w",lQ=lX&&lZ?new lY(lX,lZ,n):null;function l0(){let[e,t]=(0,_.useState)(!1),[s,r]=(0,_.useState)(!1),[i,n]=(0,_.useState)("idle"),[a,o]=(0,_.useState)({name:"",email:"",message:""}),l=async e=>{e.preventDefault(),n("loading");try{if(!a.name||!a.email||!a.message)throw Error("All fields are required.");if(!lQ){console.error("Supabase client is null. Check environment variables."),n("error"),alert("Form submission is currently unavailable (Database connection error). Please contact hello@neaz.pro directly.");return}let{error:e}=await lQ.from("contacts").insert([{name:a.name,email:a.email,message:a.message,status:"new"}]);if(e)throw e;n("success"),o({name:"",email:"",message:""}),setTimeout(()=>n("idle"),5e3)}catch(e){console.error("Error submitting form:",e),n("error"),setTimeout(()=>n("idle"),5e3)}},h="NEAZ MD. MORSHED",u=[{label:"Job Success",value:"100%",icon:b.jsx(nq,{className:"w-5 h-5 text-[#2ecc71]"})},{label:"Global Clients",value:"180+",icon:b.jsx(nz,{className:"w-5 h-5 text-[#2ecc71]"})},{label:"Hours Completed",value:"5,000+",icon:b.jsx(nW,{className:"w-5 h-5 text-[#2ecc71]"})}],c=[{id:1,title:"Virtual Assistant",icon:b.jsx(nK,{className:"w-10 h-10"}),desc:"High-level administrative support, including email filtering, scheduling, and custom business workflows."},{id:2,title:"Data & CRM Mastery",icon:b.jsx(nH,{className:"w-10 h-10"}),desc:"Expert data mining, cleaning, and management across HubSpot, Salesforce, and Zoho."},{id:3,title:"Lead Generation",icon:b.jsx(nG,{className:"w-10 h-10"}),desc:"B2B prospect research with verified contact details to fuel your sales pipeline."},{id:4,title:"Web & Tech Support",icon:b.jsx(nJ,{className:"w-10 h-10"}),desc:"WordPress customization, Wix site management, and technical troubleshooting for your digital presence."}],d=[{label:"YouTube Management",years:"4+ Years",icon:b.jsx(nY,{size:18})},{label:"Market Research",years:"10+ Years",icon:b.jsx(nX,{size:18})},{label:"Content Operations",years:"5+ Years",icon:b.jsx(nZ,{size:18})}];return(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 bg-[#0b0f1a] text-white selection:bg-[#2ecc71] selection:text-slate-900",children:[b.jsx("nav",{className:`jsx-e16291aa0172e48 fixed top-0 left-0 w-full z-[100] transition-all duration-500 ${e?"bg-[#0b0f1a]/90 backdrop-blur-2xl border-b border-white/5 py-4":"bg-transparent py-8"}`,children:(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 container mx-auto px-6 lg:px-12 flex justify-between items-center max-w-7xl",children:[(0,b.jsxs)("div",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"jsx-e16291aa0172e48 flex items-center gap-4 group cursor-pointer",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 w-12 h-12 bg-[#2ecc71] rounded-2xl flex items-center justify-center font-black text-slate-950 group-hover:rotate-6 transition-all shadow-[0_0_30px_rgba(46,204,113,0.3)]",children:"NM"}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex flex-col",children:[b.jsx("span",{className:"jsx-e16291aa0172e48 text-xl font-extrabold tracking-tighter leading-none",children:"NEAZ MORSHED"}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-[10px] text-[#2ecc71] font-bold tracking-[0.2em] mt-1 uppercase",children:"Top Rated Pro"})]})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 hidden lg:flex items-center gap-10",children:[["Home","Skills","Services","Contact"].map(e=>b.jsx("a",{href:`#${e.toLowerCase()}`,className:"jsx-e16291aa0172e48 text-[11px] font-bold tracking-[0.3em] text-slate-400 hover:text-[#2ecc71] transition-all uppercase",children:e},e)),b.jsx("a",{href:"https://www.fiverr.com/neaz222",target:"_blank",className:"jsx-e16291aa0172e48 bg-[#2ecc71] text-slate-950 px-8 py-4 rounded-2xl font-black text-[11px] tracking-widest hover:scale-105 active:scale-95 transition-all shadow-lg shadow-[#2ecc71]/20 uppercase",children:"HIRE ME"})]}),b.jsx("button",{onClick:()=>r(!s),className:"jsx-e16291aa0172e48 lg:hidden p-2 text-[#2ecc71]",children:s?b.jsx(nQ,{size:32}):b.jsx(n0,{size:32})})]})}),b.jsx(D,{children:s&&(0,b.jsxs)(nU.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},className:"lg:hidden fixed inset-0 bg-[#0b0f1a] z-[110] flex flex-col items-center justify-center gap-10 p-6",children:[b.jsx("button",{onClick:()=>r(!1),className:"jsx-e16291aa0172e48 absolute top-8 right-8 text-[#2ecc71]",children:b.jsx(nQ,{size:40})}),["Home","Skills","Services","Contact"].map(e=>b.jsx("a",{href:`#${e.toLowerCase()}`,onClick:()=>r(!1),className:"jsx-e16291aa0172e48 text-5xl font-black text-white hover:text-[#2ecc71] transition-colors uppercase tracking-tighter",children:e},e))]})}),(0,b.jsxs)("main",{className:"jsx-e16291aa0172e48",children:[(0,b.jsxs)("section",{id:"home",className:"jsx-e16291aa0172e48 relative min-h-screen flex items-center pt-24 overflow-hidden",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 absolute top-[10%] left-[5%] w-[600px] h-[600px] bg-[#2ecc71]/5 rounded-full blur-[180px] pointer-events-none animate-subtle-pulse"}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 container mx-auto px-6 lg:px-12 grid lg:grid-cols-2 gap-16 items-center max-w-7xl relative z-10",children:[(0,b.jsxs)(nU.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#2ecc71]/10 border border-[#2ecc71]/20 text-[#2ecc71] text-[10px] font-black uppercase tracking-[0.3em] mb-10",children:[b.jsx(n1,{size:14,className:"text-[#2ecc71]"}),"Powering Global Business Growth Since 2014"]}),(0,b.jsxs)("h1",{className:"jsx-e16291aa0172e48 text-7xl lg:text-[100px] font-black leading-[0.85] mb-12 tracking-tighter",children:["I AM ",b.jsx("br",{className:"jsx-e16291aa0172e48"}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-gradient",children:"NEAZ MD."})," ",b.jsx("br",{className:"jsx-e16291aa0172e48"}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-gradient",children:"MORSHED"})]}),(0,b.jsxs)("p",{className:"jsx-e16291aa0172e48 text-xl text-slate-400 mb-14 max-w-lg leading-relaxed font-medium",children:["Professional ",b.jsx("span",{className:"jsx-e16291aa0172e48 text-white font-bold",children:"Expert Virtual Assistant & Professional Outsourcer"}),". I handle the heavy lifting of business operations so you can focus on scale."]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex flex-wrap gap-6 items-center",children:[(0,b.jsxs)("a",{href:"#contact",className:"jsx-e16291aa0172e48 bg-[#2ecc71] text-slate-950 px-14 py-6 rounded-2xl font-black flex items-center justify-center gap-3 hover:scale-105 active:scale-95 transition-all shadow-[0_20px_50px_rgba(46,204,113,0.3)] uppercase tracking-widest text-sm",children:["Let's Collaborate ",b.jsx(n2,{size:20})]}),b.jsx("div",{className:"jsx-e16291aa0172e48 flex gap-6 pl-4 border-l border-white/10",children:u.map((e,t)=>(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex flex-col",children:[b.jsx("span",{className:"jsx-e16291aa0172e48 text-2xl font-black text-white",children:e.value}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-[10px] uppercase tracking-widest text-slate-500 font-bold",children:e.label})]},t))})]})]}),(0,b.jsxs)(nU.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:1},className:"relative group",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 relative z-10 w-full aspect-[4/5] rounded-[5rem] overflow-hidden border-[16px] border-white/5 shadow-2xl bg-slate-900",children:[b.jsx("img",{src:"https://images.unsplash.com/photo-1519085195758-2a89f9c3f732?auto=format&fit=crop&q=80&w=800",alt:"Neaz Md. Morshed Portfolio",className:"jsx-e16291aa0172e48 w-full h-full object-cover grayscale brightness-90 group-hover:grayscale-0 group-hover:scale-110 transition-all duration-1000"}),b.jsx("div",{className:"jsx-e16291aa0172e48 absolute inset-0 bg-gradient-to-t from-[#0b0f1a] via-transparent to-transparent opacity-60"}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 absolute bottom-10 left-10 right-10 p-8 rounded-3xl bg-white/5 backdrop-blur-2xl border border-white/10 flex items-center gap-5",children:[b.jsx(n4,{className:"text-[#2ecc71] w-12 h-12"}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 text-sm font-black uppercase tracking-[0.1em]",children:h}),b.jsx("div",{className:"jsx-e16291aa0172e48 text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Global Outsourcing Partner"})]})]})]}),b.jsx("div",{className:"jsx-e16291aa0172e48 absolute -bottom-10 -right-10 w-48 h-48 bg-[#2ecc71]/20 rounded-full blur-3xl -z-10 animate-subtle-pulse"})]})]})]}),b.jsx("section",{id:"skills",className:"jsx-e16291aa0172e48 py-32 bg-slate-900/10",children:(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 container mx-auto px-6 max-w-7xl",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 text-center mb-24",children:[b.jsx("span",{className:"jsx-e16291aa0172e48 text-[#2ecc71] text-[11px] font-black uppercase tracking-[0.5em] mb-6 block",children:"Expertise"}),(0,b.jsxs)("h2",{className:"jsx-e16291aa0172e48 text-5xl lg:text-7xl font-black uppercase tracking-tighter leading-none",children:["Technical ",b.jsx("br",{className:"jsx-e16291aa0172e48"}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-slate-600",children:"Competence"})]})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 grid lg:grid-cols-2 gap-20 items-center",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 space-y-10",children:[{name:"Lead Research",level:98},{name:"CRM Management",level:95},{name:"Data Mining",level:97},{name:"Admin Support",level:99},{name:"Video Production",level:95},{name:"Web Development",level:92}].map(e=>(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex justify-between mb-4",children:[b.jsx("span",{className:"jsx-e16291aa0172e48 text-[11px] font-extrabold uppercase tracking-[0.2em] text-slate-400",children:e.name}),(0,b.jsxs)("span",{className:"jsx-e16291aa0172e48 text-[#2ecc71] font-black",children:[e.level,"%"]})]}),b.jsx("div",{className:"jsx-e16291aa0172e48 h-1.5 w-full bg-slate-900 rounded-full overflow-hidden",children:b.jsx(nU.div,{initial:{width:0},whileInView:{width:`${e.level}%`},transition:{duration:1.5,ease:"circOut"},className:"h-full bg-[#2ecc71] rounded-full shadow-[0_0_20px_rgba(46,204,113,0.5)]"})})]},e.name))}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 grid grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 p-12 bg-[#2ecc71] rounded-[4rem] text-slate-950 flex flex-col justify-center items-center text-center aspect-square shadow-2xl",children:[b.jsx(n1,{className:"w-12 h-12 mb-4"}),b.jsx("div",{className:"jsx-e16291aa0172e48 text-5xl font-black mb-1",children:"98%"}),b.jsx("div",{className:"jsx-e16291aa0172e48 text-[10px] font-black uppercase tracking-widest opacity-80",children:"Accuracy"})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 p-12 bg-white/5 border border-white/10 rounded-[4rem] flex flex-col justify-center items-center text-center aspect-square",children:[b.jsx(nq,{className:"text-[#2ecc71] w-12 h-12 mb-4"}),b.jsx("div",{className:"jsx-e16291aa0172e48 text-4xl font-black mb-1",children:"Top Rated"}),b.jsx("div",{className:"jsx-e16291aa0172e48 text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"Global Status"})]})]})]})]})}),b.jsx("section",{id:"services",className:"jsx-e16291aa0172e48 py-32 relative",children:(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 container mx-auto px-6 max-w-7xl",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex flex-col md:flex-row justify-between items-end mb-24 gap-12",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 max-w-3xl",children:[b.jsx("span",{className:"jsx-e16291aa0172e48 text-[#2ecc71] text-[11px] font-black uppercase tracking-[0.5em] mb-6 block",children:"Our Solutions"}),(0,b.jsxs)("h2",{className:"jsx-e16291aa0172e48 text-6xl lg:text-8xl font-black uppercase tracking-tighter leading-none",children:["High-Impact ",b.jsx("br",{className:"jsx-e16291aa0172e48"})," ",b.jsx("span",{className:"jsx-e16291aa0172e48 text-slate-600",children:"Business Services"})]})]}),b.jsx("p",{className:"jsx-e16291aa0172e48 text-slate-400 max-w-sm text-sm leading-relaxed mb-6 font-medium",children:"Custom-tailored outsourcing strategies for modern startups and established enterprises."})]}),b.jsx("div",{className:"jsx-e16291aa0172e48 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:c.map(e=>(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 p-12 bg-slate-900/40 border border-white/5 rounded-[4rem] hover:border-[#2ecc71]/40 hover:bg-slate-900 transition-all group flex flex-col justify-between h-full relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 text-[#2ecc71] mb-12 group-hover:scale-110 group-hover:rotate-6 transition-transform inline-flex p-6 bg-white/5 rounded-[2.5rem] border border-white/5",children:e.icon}),b.jsx("h3",{className:"jsx-e16291aa0172e48 text-2xl font-black mb-6 uppercase tracking-tighter leading-tight",children:e.title}),b.jsx("p",{className:"jsx-e16291aa0172e48 text-slate-400 text-sm leading-relaxed font-medium",children:e.desc})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 mt-14 flex items-center gap-3 text-[#2ecc71] text-[10px] font-black uppercase tracking-widest group-hover:translate-x-2 transition-transform",children:["View Details ",b.jsx(n2,{size:16})]})]},e.id))})]})}),b.jsx("section",{id:"experience",className:"jsx-e16291aa0172e48 py-32 bg-slate-900/10",children:b.jsx("div",{className:"jsx-e16291aa0172e48 container mx-auto px-6 max-w-7xl",children:(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 grid lg:grid-cols-2 gap-20 items-center",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48",children:[b.jsx("span",{className:"jsx-e16291aa0172e48 text-[#2ecc71] text-[11px] font-black uppercase tracking-[0.5em] mb-8 block",children:"Career Path"}),(0,b.jsxs)("h2",{className:"jsx-e16291aa0172e48 text-6xl lg:text-7xl font-black uppercase tracking-tighter leading-none mb-12",children:["Proven ",b.jsx("br",{className:"jsx-e16291aa0172e48"}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-slate-600",children:"Global Expertise"})]}),b.jsx("div",{className:"jsx-e16291aa0172e48 space-y-6",children:d.map((e,t)=>(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex items-center justify-between p-8 bg-slate-900 border border-white/5 rounded-3xl hover:border-[#2ecc71]/30 transition-all",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex items-center gap-5",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 p-3 bg-white/5 rounded-xl text-[#2ecc71]",children:e.icon}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-lg font-bold uppercase tracking-tighter",children:e.label})]}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-[#2ecc71] font-black tracking-widest text-[11px] uppercase",children:e.years})]},t))})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 bg-slate-900/50 p-12 rounded-[5rem] border border-white/5 relative",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 absolute -top-10 -right-10 w-32 h-32 bg-[#2ecc71]/10 rounded-full blur-3xl"}),b.jsx("h3",{className:"jsx-e16291aa0172e48 text-3xl font-black uppercase tracking-tighter mb-8",children:"Selected Clients"}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 space-y-8",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex gap-6",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 w-1 bg-[#2ecc71] rounded-full"}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 text-[#2ecc71] font-black uppercase tracking-widest text-[10px] mb-1",children:"Aura Relax (Current)"}),b.jsx("h4",{className:"jsx-e16291aa0172e48 text-xl font-bold uppercase mb-2",children:"Video Production Lead"}),b.jsx("p",{className:"jsx-e16291aa0172e48 text-slate-400 text-sm",children:"Managing YouTube content and relaxation video operations."})]})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex gap-6",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 w-1 bg-slate-800 rounded-full"}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 text-slate-500 font-black uppercase tracking-widest text-[10px] mb-1",children:"Release Media Inc."}),b.jsx("h4",{className:"jsx-e16291aa0172e48 text-xl font-bold uppercase mb-2",children:"Primary VA"}),b.jsx("p",{className:"jsx-e16291aa0172e48 text-slate-400 text-sm",children:"Orchestrating administrative workflows and digital content."})]})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex gap-6",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 w-1 bg-slate-800 rounded-full"}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 text-slate-500 font-black uppercase tracking-widest text-[10px] mb-1",children:"GLOCAL Org."}),b.jsx("h4",{className:"jsx-e16291aa0172e48 text-xl font-bold uppercase mb-2",children:"Web Design Coordinator"}),b.jsx("p",{className:"jsx-e16291aa0172e48 text-slate-400 text-sm",children:"Leading development for international organizational sites."})]})]})]})]})]})})}),b.jsx("section",{id:"contact",className:"jsx-e16291aa0172e48 py-32 bg-[#0b0f1a]",children:b.jsx("div",{className:"jsx-e16291aa0172e48 container mx-auto px-6 max-w-7xl",children:(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 bg-[#0e1526] rounded-[6rem] p-12 lg:p-24 border border-white/10 relative overflow-hidden shadow-2xl",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 absolute top-0 right-0 w-[500px] h-[500px] bg-[#2ecc71]/5 rounded-full blur-[200px] -z-10 animate-subtle-pulse"}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 grid lg:grid-cols-2 gap-20",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 text-left",children:[b.jsx("span",{className:"jsx-e16291aa0172e48 text-[#2ecc71] text-[11px] font-black uppercase tracking-[0.5em] mb-12 block",children:"Inquiry"}),(0,b.jsxs)("h2",{className:"jsx-e16291aa0172e48 text-6xl lg:text-8xl font-black mb-12 uppercase leading-[0.9] tracking-tighter",children:["Ready to ",b.jsx("br",{className:"jsx-e16291aa0172e48"})," ",b.jsx("span",{className:"jsx-e16291aa0172e48 text-slate-600",children:"Connect?"})]}),b.jsx("p",{className:"jsx-e16291aa0172e48 text-slate-400 text-lg mb-12 max-w-md",children:"Send a message to discuss your project requirements or hiring inquiries. I respond within 12 hours."}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 space-y-6",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex items-center gap-6 p-6 rounded-3xl bg-white/5 border border-white/5",children:[b.jsx(n6,{className:"text-[#2ecc71]"}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-lg font-bold",children:"hello@neaz.pro"})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex items-center gap-6 p-6 rounded-3xl bg-white/5 border border-white/5",children:[b.jsx(n5,{className:"text-[#2ecc71]"}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-lg font-bold",children:"Available Globally (Remote)"})]})]})]}),b.jsx("div",{className:"jsx-e16291aa0172e48 bg-[#0b0f1a] p-10 lg:p-14 rounded-[4rem] border border-white/5",children:(0,b.jsxs)("form",{onSubmit:l,className:"jsx-e16291aa0172e48 space-y-8",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48",children:[b.jsx("label",{className:"jsx-e16291aa0172e48 text-[10px] font-black uppercase tracking-widest text-slate-500 mb-4 block",children:"Full Name"}),b.jsx("input",{type:"text",required:!0,value:a.name,onChange:e=>o({...a,name:e.target.value}),placeholder:"John Doe",className:"jsx-e16291aa0172e48 w-full bg-slate-900 border border-white/10 rounded-2xl p-6 focus:border-[#2ecc71] focus:outline-none transition-all placeholder:text-slate-700 font-bold"})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48",children:[b.jsx("label",{className:"jsx-e16291aa0172e48 text-[10px] font-black uppercase tracking-widest text-slate-500 mb-4 block",children:"Email Address"}),b.jsx("input",{type:"email",required:!0,value:a.email,onChange:e=>o({...a,email:e.target.value}),placeholder:"john@example.com",className:"jsx-e16291aa0172e48 w-full bg-slate-900 border border-white/10 rounded-2xl p-6 focus:border-[#2ecc71] focus:outline-none transition-all placeholder:text-slate-700 font-bold"})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48",children:[b.jsx("label",{className:"jsx-e16291aa0172e48 text-[10px] font-black uppercase tracking-widest text-slate-500 mb-4 block",children:"Your Message"}),b.jsx("textarea",{rows:4,required:!0,value:a.message,onChange:e=>o({...a,message:e.target.value}),placeholder:"Tell me about your project...",className:"jsx-e16291aa0172e48 w-full bg-slate-900 border border-white/10 rounded-2xl p-6 focus:border-[#2ecc71] focus:outline-none transition-all placeholder:text-slate-700 font-bold resize-none"})]}),b.jsx("button",{type:"submit",disabled:"loading"===i,className:"jsx-e16291aa0172e48 w-full py-6 bg-[#2ecc71] text-slate-900 font-black rounded-2xl text-lg uppercase tracking-widest hover:scale-[1.02] active:scale-95 transition-all shadow-xl shadow-[#2ecc71]/20 flex items-center justify-center gap-4 group disabled:opacity-50 disabled:cursor-not-allowed",children:"loading"===i?(0,b.jsxs)(b.Fragment,{children:["Processing... ",b.jsx(n8,{className:"animate-spin"})]}):"success"===i?(0,b.jsxs)(b.Fragment,{children:["Message Sent! ",b.jsx(n9,{})]}):"error"===i?b.jsx(b.Fragment,{children:"Error Occurred"}):(0,b.jsxs)(b.Fragment,{children:["Send Message ",b.jsx(n7,{size:20,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]})})]})})]})]})})})]}),b.jsx("footer",{className:"jsx-e16291aa0172e48 py-24 border-t border-white/5",children:(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 container mx-auto px-6 max-w-7xl flex flex-col md:flex-row justify-between items-center gap-12 text-center md:text-left",children:[(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex items-center gap-6",children:[b.jsx("div",{className:"jsx-e16291aa0172e48 w-14 h-14 bg-slate-900 rounded-2xl flex items-center justify-center font-black text-[#2ecc71] border border-white/10 text-xl shadow-2xl",children:"NM"}),b.jsx("span",{className:"jsx-e16291aa0172e48 text-[12px] font-black tracking-[0.6em] uppercase text-slate-500",children:h})]}),(0,b.jsxs)("div",{className:"jsx-e16291aa0172e48 flex gap-10",children:[b.jsx("a",{href:"https://www.linkedin.com",className:"jsx-e16291aa0172e48 text-slate-500 hover:text-[#2ecc71] transition-all uppercase text-[10px] font-black tracking-widest",children:"LinkedIn"}),b.jsx("a",{href:"https://www.fiverr.com/neaz222",className:"jsx-e16291aa0172e48 text-slate-500 hover:text-[#2ecc71] transition-all uppercase text-[10px] font-black tracking-widest",children:"Fiverr"}),b.jsx("a",{href:"https://github.com",className:"jsx-e16291aa0172e48 text-slate-500 hover:text-[#2ecc71] transition-all uppercase text-[10px] font-black tracking-widest",children:"GitHub"})]}),b.jsx("p",{className:"jsx-e16291aa0172e48 text-[12px] font-black text-slate-700 uppercase tracking-[1em]",children:"\xa9 2024  THE PRECISION OUTSOURCER"})]})}),b.jsx(x(),{id:"e16291aa0172e48",children:".text-gradient{background:-webkit-linear-gradient(315deg,#2ecc71 0%,#27ae60 100%);background:-moz-linear-gradient(315deg,#2ecc71 0%,#27ae60 100%);background:-o-linear-gradient(315deg,#2ecc71 0%,#27ae60 100%);background:linear-gradient(135deg,#2ecc71 0%,#27ae60 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}@-webkit-keyframes subtle-pulse{0%,100%{opacity:.05;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.15;-webkit-transform:scale(1.05);transform:scale(1.05)}}@-moz-keyframes subtle-pulse{0%,100%{opacity:.05;-moz-transform:scale(1);transform:scale(1)}50%{opacity:.15;-moz-transform:scale(1.05);transform:scale(1.05)}}@-o-keyframes subtle-pulse{0%,100%{opacity:.05;-o-transform:scale(1);transform:scale(1)}50%{opacity:.15;-o-transform:scale(1.05);transform:scale(1.05)}}@keyframes subtle-pulse{0%,100%{opacity:.05;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{opacity:.15;-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}}.animate-subtle-pulse{-webkit-animation:subtle-pulse 8s infinite ease-in-out;-moz-animation:subtle-pulse 8s infinite ease-in-out;-o-animation:subtle-pulse 8s infinite ease-in-out;animation:subtle-pulse 8s infinite ease-in-out}html{scroll-behavior:smooth}body{background-color:#0b0f1a;color:white}"})]})}lQ||console.warn("Supabase client failed to initialize. Check that NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are set in your environment.")},8472:()=>{},1596:(e,t,s)=>{"use strict";s(8472);var r=s(7577),i=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),n="undefined"!=typeof process&&process.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,i=t.optimizeForSpeed,o=void 0===i?n:i;l(a(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",l("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return l(a(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var s=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,s){t&&l(a(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return s?i.insertBefore(r,s):i.appendChild(r),r},function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var h=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},u={};function c(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return u[r]||(u[r]="jsx-"+h(e+"-"+s)),u[r]}function d(e,t){var s=e+(t=t.replace(/\/style/gi,"\\/style"));return u[s]||(u[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[s]}var p=r.createContext(null);p.displayName="StyleSheetContext",i.default.useInsertionEffect||i.default.useLayoutEffect;var f=void 0;function m(e){var t=f||r.useContext(p);return t&&t.add(e),null}m.dynamic=function(e){return e.map(function(e){return c(e[0],e[1])}).join(" ")},t.style=m},7626:(e,t,s)=>{"use strict";e.exports=s(1596).style},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(9510);function i({children:e}){return(0,r.jsxs)("html",{lang:"en",className:"scroll-smooth",children:[(0,r.jsxs)("head",{children:[r.jsx("title",{children:"Neaz Md. Morshed | Virtual Assistant & Professional Outsourcer"}),r.jsx("meta",{name:"description",content:"Professional Virtual Assistant & Outsourcing Expert Portfolio. Built with Next.js, Tailwind CSS, and Framer Motion."})]}),r.jsx("body",{className:"bg-[#0b0f1a] text-slate-50 selection:bg-[#2ecc71] selection:text-slate-950 antialiased overflow-x-hidden",children:e})]})}s(7272),s(1159)},908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>o});var r=s(8570);let i=(0,r.createProxy)(String.raw`C:\Users\Asus\neaz-morshed\app\page.tsx`),{__esModule:n,$$typeof:a}=i;i.default;let o=(0,r.createProxy)(String.raw`C:\Users\Asus\neaz-morshed\app\page.tsx#default`)},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[819],()=>s(9869));module.exports=r})();